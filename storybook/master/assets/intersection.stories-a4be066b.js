import{I as E,C as Ve}from"./MainController-cab0cfd5.js";import{C as Te,a as Ze,c as Re,b as S,d as Fe,g as Ee,P as H,S as He,e as Oe,f as b}from"./elements-c9ae7b8d.js";import{c as Ue,t as Ye,g as Qe,C as Xe}from"./picks-80e95b54.js";import{G as Je,a as Ke}from"./GeomodelLayerV2-53ffb235.js";import{G as $e}from"./GridLayer-ed34e704.js";import{g as qe,S as _e,a as et,b as tt,s as st}from"./seismic-colormap-f1825c7f.js";import{W as nt}from"./WellborePathLayer-14cfe374.js";import{g as ot,a as it,b as at,c as rt,d as ct,e as lt,f as dt,h as mt,i as pt,j as yt}from"./data-e45bb153.js";import"./_commonjsHelpers-28e086c5.js";import"./findsample-f4fa7ca8.js";const O=(a,e)=>{switch(e.lineType){case"wavy":return a.wavy(e);case"dashed":return a.dashed(e);case"solid":return a.solid(e);default:return Ze(e.lineType)}};class ht extends Te{constructor(){super(...arguments),this.yScale=null,this.xScale=null}onMount(e){super.onMount(e)}onUpdate(e){super.onUpdate(e),this.clearCanvas(),this.render()}onRescale(e){super.onRescale(e),this.yScale=e.yScale,this.xScale=e.xScale,this.resetTransform(),this.render()}drawDashed(e){const{ctx:t}=this,{canvas:s}=this,n=this.yScale(e.depth);t.save(),t.strokeStyle=e.color,this.setCtxLineStyle(t,e),this.setCtxLineWidth(t,e),t.beginPath(),t.moveTo(0,n),t.lineTo(s.width,n),t.stroke(),t.restore(),e.text&&this.drawText(t,e,t.canvas.width,n)}drawSolid(e){const{ctx:t}=this,{canvas:s}=this,n=this.yScale(e.depth);t.save(),t.strokeStyle=e.color,this.setCtxLineStyle(t,e),this.setCtxLineWidth(t,e),t.beginPath(),t.moveTo(0,n),t.lineTo(s.width,n),t.stroke(),t.restore(),e.text&&this.drawText(t,e,t.canvas.width,n)}drawWavy(e){const{ctx:o}=this,{canvas:r}=this,c=Ue(4,2.5,500,this.yScale),d=c*2,m=this.yScale(e.depth)-c,C=Math.ceil(r.width/d)+1,M=this.xScale(0)%d;o.save(),o.strokeStyle=e.color,this.setCtxLineStyle(o,e),this.setCtxLineWidth(o,e);for(let g=-1;g<C;g++)o.beginPath(),o.arc(g*d+M+c,m,c,0,Math.PI),o.stroke();o.restore(),e.text&&this.drawText(o,e,o.canvas.width,m)}drawText(e,t,s,n){const o=t.textColor||"#000",r=t.fontSize||"10px sans-serif",c=10;e.save(),e.strokeStyle=o,e.font=r,e.textAlign="end",e.textBaseline="bottom",e.fillText(t.text,s-c,n),e.restore()}setCtxLineStyle(e,t){O({solid:()=>{e.setLineDash([])},dashed:()=>{e.setLineDash([8,10])},wavy:()=>{e.setLineDash([])}},t)}setCtxLineWidth(e,t){e.lineWidth=t.lineWidth||1}render(){!this.ctx||!this.yScale||!this.xScale||requestAnimationFrame(()=>{var e;this.clearCanvas(),(e=this.data)==null||e.forEach(t=>{O({solid:s=>this.drawSolid(s),dashed:s=>this.drawDashed(s),wavy:s=>this.drawWavy(s)},t)})})}}const I=()=>$({xBounds:[0,1e3],yBounds:[0,1e3]}),u=()=>$({xBounds:[1e3,0],yBounds:[0,1e3]}),$=a=>{const e={xLabel:"Displacement",yLabel:"TVD MSL",unitOfMeasure:"m"},t=700,s=600,n=Re(t),o=S(t),r=S(t),c=S(t),d=S(t),m=Fe(t,s),C=[ot(),it(),at(),rt(),ct(),lt(),dt(),mt(),pt(),yt()];return Promise.all(C).then(M=>{var Z,R,F;const[g,q,k,B,A,_,ee,te,se,ne]=M,p=new E(g);p.offset=g[0][2];const oe=1e3/(p.displacement||1),ie=((F=(R=(Z=B[0])==null?void 0:Z.data)==null?void 0:R.values)==null?void 0:F.length)||1,D=p.getTrajectory(ie,0,1+oe),w=E.toDisplacement(D.points,D.offset),P=Ee(w,A,B),ae=qe(k,w),re=Ye(se,A),ce=Qe(re),le=new H({width:t,height:s}),de=new H({width:t,height:s}),W=new $e("grid",{majorColor:"black",minorColor:"gray",majorWidth:.5,minorWidth:.5,order:1,referenceSystem:p}),f=new Je(le,"geomodel",{order:2,layerOpacity:.6,data:P}),z=new nt("wellborepath",{order:3,strokeWidth:"2px",stroke:"red",referenceSystem:p}),N=new Ke("geomodellabels",{order:3,data:P}),j=new _e("seismic",{order:1}),me={completionSymbol1:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTAwIiBoZWlnaHQ9IjEwMCIgdmlld0JveD0iMCAwIDEwMCAxMDAiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjxwYXRoIGQ9Ik0xMCAwSDkwVjEwMEgxMFYwWiIgZmlsbD0iI0Q5RDlEOSIvPgo8cGF0aCBkPSJNMCAyNUgxMFY3NUgwVjI1WiIgZmlsbD0iI0I1QjJCMiIvPgo8cGF0aCBkPSJNNDUgMjVINTVWNzVINDVWMjVaIiBmaWxsPSIjQjVCMkIyIi8+CjxwYXRoIGQ9Ik05MCAyNUgxMDBWNzVIOTBWMjVaIiBmaWxsPSIjQjVCMkIyIi8+Cjwvc3ZnPgo=",completionSymbol2:"tubing1.svg",completionSymbol3:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTAwIiBoZWlnaHQ9IjEwMCIgdmlld0JveD0iMCAwIDEwMCAxMDAiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjxwYXRoIGQ9Ik0xMCAwSDkwVjEwMEgxMFYwWiIgZmlsbD0iI0Q5RDlEOSIvPgo8cGF0aCBkPSJNMCAyNUgxMFY3NUgwVjI1WiIgZmlsbD0iI0I1QjJCMiIvPgo8cGF0aCBkPSJNNDUgMjVINTVWNzVINDVWMjVaIiBmaWxsPSIjQjVCMkIyIi8+CjxwYXRoIGQ9Ik0yNSA2NUgzMFY4MEgyNVY2NVoiIGZpbGw9IiMzMTMxMzEiLz4KPHBhdGggZD0iTTI1IDQySDMwVjU3SDI1VjQyWiIgZmlsbD0iIzMxMzEzMSIvPgo8cGF0aCBkPSJNMjUgMjFIMzBWMzZIMjVWMjFaIiBmaWxsPSIjMzEzMTMxIi8+CjxwYXRoIGQ9Ik03MCA2NEg3NVY3OUg3MFY2NFoiIGZpbGw9IiMzMTMxMzEiLz4KPHBhdGggZD0iTTcwIDQxSDc1VjU2SDcwVjQxWiIgZmlsbD0iIzMxMzEzMSIvPgo8cGF0aCBkPSJNNzAgMjBINzVWMzVINzBWMjBaIiBmaWxsPSIjMzEzMTMxIi8+CjxwYXRoIGQ9Ik05MCAyNUgxMDBWNzVIOTBWMjVaIiBmaWxsPSIjQjVCMkIyIi8+Cjwvc3ZnPgo="},pe=[{kind:"completionSymbol",id:"completion-svg-1",start:5250,end:5252,diameter:8.5,symbolKey:"completionSymbol1"},{kind:"completionSymbol",id:"completion-svg-2",start:5252,end:5274,diameter:8.5,symbolKey:"completionSymbol2"},{kind:"completionSymbol",id:"completion-svg-3",start:5274,end:5276,diameter:8.5,symbolKey:"completionSymbol3"}],ye={mechanicalPlug:"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5vIj8+Cjxzdmcgd2lkdGg9IjEwMCIgaGVpZ2h0PSIxMDAiIHZpZXdCb3g9IjAgMCAxMDAgMTAwIiBmaWxsPSJub25lIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciPgo8cGF0aCBkPSJNMSAxSDk5Vjk5SDFWMVoiIGZpbGw9InVybCgjcGFpbnQwX2xpbmVhcl81MF81KSIvPgo8cGF0aCBkPSJNMSAxSDk5Vjk5SDFWMVoiIGZpbGw9InVybCgjcGFpbnQxX2xpbmVhcl81MF81KSIgZmlsbC1vcGFjaXR5PSIwLjIiLz4KPHBhdGggZD0iTTEgMUg5OVY5OUgxVjFaIiBzdHJva2U9ImJsYWNrIiBzdHJva2Utd2lkdGg9IjIiLz4KPGxpbmUgeDE9IjEuNzEwNzIiIHkxPSIxLjI5NjUzIiB4Mj0iOTguNzEwNyIgeTI9Ijk5LjI5NjUiIHN0cm9rZT0iYmxhY2siIHN0cm9rZS13aWR0aD0iMiIvPgo8bGluZSB4MT0iOTguNzA3MSIgeTE9IjAuNzA3MTA3IiB4Mj0iMC43MDcxIiB5Mj0iOTguNzA3MSIgc3Ryb2tlPSJibGFjayIgc3Ryb2tlLXdpZHRoPSIyIi8+CjxkZWZzPgo8bGluZWFyR3JhZGllbnQgaWQ9InBhaW50MF9saW5lYXJfNTBfNSIgeDE9IjAiIHkxPSI1MCIgeDI9IjUwIiB5Mj0iNTAiIGdyYWRpZW50VW5pdHM9InVzZXJTcGFjZU9uVXNlIj4KPHN0b3Agc3RvcC1jb2xvcj0iI0NDMjYyNiIvPgo8c3RvcCBvZmZzZXQ9IjEiIHN0b3AtY29sb3I9IiNGRjQ3MUEiLz4KPC9saW5lYXJHcmFkaWVudD4KPGxpbmVhckdyYWRpZW50IGlkPSJwYWludDFfbGluZWFyXzUwXzUiIHgxPSI1MCIgeTE9IjUwIiB4Mj0iMTAwIiB5Mj0iNTAiIGdyYWRpZW50VW5pdHM9InVzZXJTcGFjZU9uVXNlIj4KPHN0b3Agc3RvcC1jb2xvcj0iI0ZGNDcxQSIvPgo8c3RvcCBvZmZzZXQ9IjAuOTk5OSIgc3RvcC1jb2xvcj0iI0NDMjYyNiIvPgo8c3RvcCBvZmZzZXQ9IjEiIHN0b3AtY29sb3I9IiNGRjQ3MUEiLz4KPC9saW5lYXJHcmFkaWVudD4KPC9kZWZzPgo8L3N2Zz4K"},he=[{kind:"pAndASymbol",id:"mechanical-plug-1",start:5100,end:5110,diameter:8.5,symbolKey:"mechanicalPlug"},{kind:"cementPlug",id:"cement-plug-2",start:5e3,end:5110,referenceIds:["casing-07"]}],Ie=[{kind:"perforation",subKind:"Perforation",id:"PerforationDemo1",start:4e3,end:4500,isOpen:!0},{kind:"perforation",subKind:"Cased hole frac pack",id:"PerforationDemo2",start:3500,end:4500,isOpen:!0}],ge={holeSizes:ee,cements:te,casings:_,completion:[...q,...pe],pAndA:[...he,...ne],perforations:Ie,symbols:{...me,...ye}},h={holeLayerId:"hole-id",casingLayerId:"casing-id",completionLayerId:"completion-id",cementLayerId:"cement-id",pAndALayerId:"pAndA-id",perforationLayerId:"perforation-id"},ue={order:5,referenceSystem:p,internalLayerOptions:h,data:ge},G=new He(de,"schematic-webgl-layer",ue),be=[{text:"RKB",lineType:"dashed",color:"black",depth:0},{text:"MSL",lineType:"wavy",color:"blue",depth:30},{text:"Seabed",lineType:"solid",color:"slategray",depth:91.1,lineWidth:2}],V=new ht("sea-and-rkb-layer",{data:be}),T=new Xe("callout",{order:100,data:ce,referenceSystem:p}),xe=[W,f,z,N,j,G,V,T],Se={scaleOptions:a,axisOptions:e,container:m,referenceSystem:p},i=new Ve({layers:xe,...Se});It(i);const Ce=et(ae);tt(k,w,st).then(l=>{j.setData({image:l,options:Ce})}),i.adjustToSize(t,s),i.setViewport(1e3,1500,5e3),i.zoomPanHandler.zFactor=1;const Me=Oe(),we=y(i,W,"Grid"),je=y(i,z,"Wellbore"),Le=y(i,f,"Geo model"),ve=y(i,G,"Schematic"),ke=y(i,V,"SeaAndRKB"),Be=y(i,N,"Geo model labels"),Ae=y(i,j,"Seismic"),De=y(i,T,"Picks"),Pe=[["Holes",h.holeLayerId],["Casings",h.casingLayerId],["Cement",h.cementLayerId],["Completion",h.completionLayerId],["Plug & Abandonment",h.pAndALayerId],["Perforations",h.perforationLayerId]].map(([l,v])=>gt(i,v,l));let L=!0;const We=x("Axis labels",l=>{L?(i.hideAxisLabels(),l.style.backgroundColor="red",l.style.color="white",L=!1):(i.showAxisLabels(),L=!0,l.style.backgroundColor="lightblue",l.style.color="")},"background: lightblue;"),fe=x("800x600",()=>{m.setAttribute("style",`height: ${600}px; width: ${800}px;background-color: #eee;`),n.style.width=`${800}px`,r.style.width=`${800}px`,o.style.width=`${800}px`,i.adjustToSize(800,600)}),ze=x("600x400",()=>{m.setAttribute("style",`height: ${400}px; width: ${600}px;background-color: #eee;`),n.style.width=`${600}px`,r.style.width=`${600}px`,o.style.width=`${600}px`,i.adjustToSize(600,400)}),Ne=x("Default",()=>{m.setAttribute("style",`height: ${s}px; width: ${t}px;background-color: #eee;`),n.style.width=`${t}px`,r.style.width=`${t}px`,o.style.width=`${t}px`,i.adjustToSize(t,s)}),Ge=x("Clear everything",()=>{i.clearAllData()});o.appendChild(we),o.appendChild(je),o.appendChild(Le),o.appendChild(Be),o.appendChild(Ae),o.appendChild(ve),o.appendChild(ke),o.appendChild(De),o.appendChild(We),r.appendChild(fe),r.appendChild(ze),r.appendChild(Ne),d.appendChild(Ge),Pe.forEach(l=>c.appendChild(l)),n.appendChild(b("A complete example of multiple layers comprised of SVG, Canvas, HTML and pixi.js (WebGL). We use a controller to update and display each layer in a container (just a plain div element) on top of each other.")),n.appendChild(m),n.appendChild(b("Toggle")),n.appendChild(o),n.appendChild(b("Schematic toggle")),n.appendChild(c),n.appendChild(b("Adjust size")),n.appendChild(r),n.appendChild(b("Miscellaneous")),n.appendChild(d),n.appendChild(Me)}),n};function It(a){const e=a.overlay.create("md",{onMouseMove:t=>{const{target:s,caller:n,x:o}=t,r=n.currentStateAsEvent.xScale.invert(o),{referenceSystem:c}=n,d=c.unproject(r);s.textContent=Number.isFinite(d)?`MD: ${d.toFixed(1)}`:"-",d<0||c.length<d?s.style.visibility="hidden":s.style.visibility="visible"},onMouseExit:t=>{t.target.style.visibility="hidden"}});e.style.visibility="hidden",e.style.display="inline-block",e.style.padding="2px",e.style.borderRadius="4px",e.style.textAlign="right",e.style.position="absolute",e.style.backgroundColor="rgba(0,0,0,0.5)",e.style.color="white",e.style.right="5px",e.style.bottom="5px",e.style.zIndex="100"}const y=(a,e,t)=>{const s=document.createElement("button");s.innerHTML=`${t}`,s.setAttribute("style","width: 170px;height:32px;margin-top:12px;background: lightblue;");let n=!1;return s.onclick=()=>{n?(a.showLayer(e.id),s.style.backgroundColor="lightblue",s.style.color=""):(a.hideLayer(e.id),s.style.backgroundColor="red",s.style.color="white"),n=!n},s},gt=(a,e,t)=>{const s=document.createElement("button");s.innerHTML=`${t}`,s.setAttribute("style","width: 170px;height:32px;margin-top:12px;background: lightblue;");let n=!1;return s.onclick=()=>{n?(a.showLayer(e),s.style.backgroundColor="lightblue",s.style.color=""):(a.hideLayer(e),s.style.backgroundColor="red",s.style.color="white"),n=!n},s};function x(a,e,t=""){const s=document.createElement("button");return s.innerHTML=a,s.setAttribute("style",`${t}width: 170px;height:32px;margin-top:12px;`),s.onclick=()=>e(s),s}const Bt={title:"ESV Intersection/Complete example",component:I};var U,Y,Q;I.parameters={...I.parameters,docs:{...(U=I.parameters)==null?void 0:U.docs,source:{originalSource:`() => {
  const xBounds: [number, number] = [0, 1000];
  const yBounds: [number, number] = [0, 1000];
  const scaleOptions = {
    xBounds,
    yBounds
  };
  return renderIntersection(scaleOptions);
}`,...(Q=(Y=I.parameters)==null?void 0:Y.docs)==null?void 0:Q.source}}};var X,J,K;u.parameters={...u.parameters,docs:{...(X=u.parameters)==null?void 0:X.docs,source:{originalSource:`() => {
  const xBounds: [number, number] = [1000, 0];
  const yBounds: [number, number] = [0, 1000];
  const scaleOptions = {
    xBounds,
    yBounds
  };
  return renderIntersection(scaleOptions);
}`,...(K=(J=u.parameters)==null?void 0:J.docs)==null?void 0:K.source}}};I.parameters={storySource:{source:`() => {
  const xBounds: [number, number] = [0, 1000];
  const yBounds: [number, number] = [0, 1000];
  const scaleOptions = {
    xBounds,
    yBounds
  };
  return renderIntersection(scaleOptions);
}`},...I.parameters};u.parameters={storySource:{source:`() => {
  const xBounds: [number, number] = [1000, 0];
  const yBounds: [number, number] = [0, 1000];
  const scaleOptions = {
    xBounds,
    yBounds
  };
  return renderIntersection(scaleOptions);
}`},...u.parameters};const At=["intersection","intersectionFlipX"];export{At as __namedExportsOrder,Bt as default,I as intersection,u as intersectionFlipX};
//# sourceMappingURL=intersection.stories-a4be066b.js.map
