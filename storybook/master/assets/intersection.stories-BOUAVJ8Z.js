import{I as O,C as Ve}from"./MainController-BrT9vEc5.js";import{C as Te,j as Ze,c as Re,e as x,a as Fe,k as Ee,P as U,S as He,d as Oe,b as g}from"./elements-bFXFHGGJ.js";import{c as Ue,t as Ye,g as Qe,C as Xe}from"./picks-B2GOuoQO.js";import{G as Je,a as Ke}from"./GeomodelLayerV2-D4m2dz15.js";import{G as $e}from"./GridLayer-PgiAz4v5.js";import{g as qe,S as _e,a as et,b as tt,s as st}from"./seismic-colormap-B0PkGQhJ.js";import{W as ot}from"./WellborePathLayer-B27LKqGl.js";import{c as it,h as nt,j as at,k as lt,b as rt,e as ct,d as dt,f as pt,a as mt,i as ht}from"./data-D8Ls4_G-.js";import"./preload-helper-Dp1pzeXC.js";import"./_commonjsHelpers-CqkleIqs.js";import"./findsample-BL-n9qHX.js";const Y=(a,e)=>{switch(e.lineType){case"wavy":return a.wavy(e);case"dashed":return a.dashed(e);case"solid":return a.solid(e);default:return Ze(e.lineType)}};class yt extends Te{constructor(){super(...arguments),this.yScale=null,this.xScale=null}onMount(e){super.onMount(e)}onUpdate(e){super.onUpdate(e),this.clearCanvas(),this.render()}onRescale(e){super.onRescale(e),this.yScale=e.yScale,this.xScale=e.xScale,this.resetTransform(),this.render()}drawDashed(e){var o;const{ctx:t}=this,{canvas:s}=this;if(t!=null&&s!=null){const i=(o=this.yScale)==null?void 0:o.call(this,e.depth);t.save(),t.strokeStyle=e.color,this.setCtxLineStyle(t,e),this.setCtxLineWidth(t,e),t.beginPath(),t.moveTo(0,i),t.lineTo(s.width,i),t.stroke(),t.restore(),e.text&&this.drawText(t,e,t.canvas.width,i)}}drawSolid(e){const{ctx:t}=this,{canvas:s}=this,o=this.yScale(e.depth);t!=null&&s!=null&&(t.save(),t.strokeStyle=e.color,this.setCtxLineStyle(t,e),this.setCtxLineWidth(t,e),t.beginPath(),t.moveTo(0,o),t.lineTo(s.width,o),t.stroke(),t.restore(),e.text&&this.drawText(t,e,t.canvas.width,o))}drawWavy(e){const{ctx:i,canvas:l}=this;if(this.xScale!=null&&this.yScale!=null&&l!=null&&i!=null){const r=Ue(4,2.5,500,this.yScale),d=r*2,p=this.yScale(e.depth)-r,C=Math.ceil(l.width/d)+1,M=this.xScale(0)%d;i.save(),i.strokeStyle=e.color,this.setCtxLineStyle(i,e),this.setCtxLineWidth(i,e);for(let I=-1;I<C;I++)i.beginPath(),i.arc(I*d+M+r,p,r,0,Math.PI),i.stroke();i.restore(),e.text&&this.drawText(i,e,i.canvas.width,p)}}drawText(e,t,s,o){const i=t.textColor||"#000",l=t.fontSize||"10px sans-serif",r=10;e.save(),e.strokeStyle=i,e.font=l,e.textAlign="end",e.textBaseline="bottom",e.fillText(t.text??"",s-r,o),e.restore()}setCtxLineStyle(e,t){Y({solid:()=>{e.setLineDash([])},dashed:()=>{e.setLineDash([8,10])},wavy:()=>{e.setLineDash([])}},t)}setCtxLineWidth(e,t){e.lineWidth=t.lineWidth||1}render(){!this.ctx||!this.yScale||!this.xScale||requestAnimationFrame(()=>{var e;this.clearCanvas(),(e=this.data)==null||e.forEach(t=>{Y({solid:s=>this.drawSolid(s),dashed:s=>this.drawDashed(s),wavy:s=>this.drawWavy(s)},t)})})}}const u=()=>_({xBounds:[0,1e3],yBounds:[0,1e3]}),S=()=>_({xBounds:[1e3,0],yBounds:[0,1e3]}),_=a=>{const e={xLabel:"Displacement",yLabel:"TVD MSL",unitOfMeasure:"m"},t=700,s=600,o=Re(t),i=x(t),l=x(t),r=x(t),d=x(t),p=Fe(t,s),C=[it(),nt(),at(),lt(),rt(),ct(),dt(),pt(),mt(),ht()];return Promise.all(C).then(async M=>{var F,E,H;const[I,ee,v,A,D,te,se,oe,ie,ne]=M,m=new O(I);m.offset=I[0][2];const ae=1e3/(m.displacement||1),le=((H=(E=(F=A[0])==null?void 0:F.data)==null?void 0:E.values)==null?void 0:H.length)||1,P=m.getTrajectory(le,0,1+ae),w=O.toDisplacement(P.points,P.offset),W=Ee(w,D,A),re=qe(v,w),ce=Ye(ie,D),de=Qe(ce),f=new U,z=new U;await f.init({width:t,height:s}),await z.init({width:t,height:s});const B=new $e("grid",{majorColor:"black",minorColor:"gray",majorWidth:.5,minorWidth:.5,order:1,referenceSystem:m}),N=new Je(f,"geomodel",{order:2,layerOpacity:.6,data:W}),G=new ot("wellborepath",{order:3,strokeWidth:"2px",stroke:"red",referenceSystem:m}),V=new Ke("geomodellabels",{order:3,data:W}),j=new _e("seismic",{order:1}),pe={completionSymbol1:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTAwIiBoZWlnaHQ9IjEwMCIgdmlld0JveD0iMCAwIDEwMCAxMDAiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjxwYXRoIGQ9Ik0xMCAwSDkwVjEwMEgxMFYwWiIgZmlsbD0iI0Q5RDlEOSIvPgo8cGF0aCBkPSJNMCAyNUgxMFY3NUgwVjI1WiIgZmlsbD0iI0I1QjJCMiIvPgo8cGF0aCBkPSJNNDUgMjVINTVWNzVINDVWMjVaIiBmaWxsPSIjQjVCMkIyIi8+CjxwYXRoIGQ9Ik05MCAyNUgxMDBWNzVIOTBWMjVaIiBmaWxsPSIjQjVCMkIyIi8+Cjwvc3ZnPgo=",completionSymbol2:"tubing1.svg",completionSymbol3:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTAwIiBoZWlnaHQ9IjEwMCIgdmlld0JveD0iMCAwIDEwMCAxMDAiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjxwYXRoIGQ9Ik0xMCAwSDkwVjEwMEgxMFYwWiIgZmlsbD0iI0Q5RDlEOSIvPgo8cGF0aCBkPSJNMCAyNUgxMFY3NUgwVjI1WiIgZmlsbD0iI0I1QjJCMiIvPgo8cGF0aCBkPSJNNDUgMjVINTVWNzVINDVWMjVaIiBmaWxsPSIjQjVCMkIyIi8+CjxwYXRoIGQ9Ik0yNSA2NUgzMFY4MEgyNVY2NVoiIGZpbGw9IiMzMTMxMzEiLz4KPHBhdGggZD0iTTI1IDQySDMwVjU3SDI1VjQyWiIgZmlsbD0iIzMxMzEzMSIvPgo8cGF0aCBkPSJNMjUgMjFIMzBWMzZIMjVWMjFaIiBmaWxsPSIjMzEzMTMxIi8+CjxwYXRoIGQ9Ik03MCA2NEg3NVY3OUg3MFY2NFoiIGZpbGw9IiMzMTMxMzEiLz4KPHBhdGggZD0iTTcwIDQxSDc1VjU2SDcwVjQxWiIgZmlsbD0iIzMxMzEzMSIvPgo8cGF0aCBkPSJNNzAgMjBINzVWMzVINzBWMjBaIiBmaWxsPSIjMzEzMTMxIi8+CjxwYXRoIGQ9Ik05MCAyNUgxMDBWNzVIOTBWMjVaIiBmaWxsPSIjQjVCMkIyIi8+Cjwvc3ZnPgo="},me=[{kind:"completionSymbol",id:"completion-svg-1",start:5250,end:5252,diameter:8.5,symbolKey:"completionSymbol1"},{kind:"completionSymbol",id:"completion-svg-2",start:5252,end:5274,diameter:8.5,symbolKey:"completionSymbol2"},{kind:"completionSymbol",id:"completion-svg-3",start:5274,end:5276,diameter:8.5,symbolKey:"completionSymbol3"}],he={mechanicalPlug:"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5vIj8+Cjxzdmcgd2lkdGg9IjEwMCIgaGVpZ2h0PSIxMDAiIHZpZXdCb3g9IjAgMCAxMDAgMTAwIiBmaWxsPSJub25lIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciPgo8cGF0aCBkPSJNMSAxSDk5Vjk5SDFWMVoiIGZpbGw9InVybCgjcGFpbnQwX2xpbmVhcl81MF81KSIvPgo8cGF0aCBkPSJNMSAxSDk5Vjk5SDFWMVoiIGZpbGw9InVybCgjcGFpbnQxX2xpbmVhcl81MF81KSIgZmlsbC1vcGFjaXR5PSIwLjIiLz4KPHBhdGggZD0iTTEgMUg5OVY5OUgxVjFaIiBzdHJva2U9ImJsYWNrIiBzdHJva2Utd2lkdGg9IjIiLz4KPGxpbmUgeDE9IjEuNzEwNzIiIHkxPSIxLjI5NjUzIiB4Mj0iOTguNzEwNyIgeTI9Ijk5LjI5NjUiIHN0cm9rZT0iYmxhY2siIHN0cm9rZS13aWR0aD0iMiIvPgo8bGluZSB4MT0iOTguNzA3MSIgeTE9IjAuNzA3MTA3IiB4Mj0iMC43MDcxIiB5Mj0iOTguNzA3MSIgc3Ryb2tlPSJibGFjayIgc3Ryb2tlLXdpZHRoPSIyIi8+CjxkZWZzPgo8bGluZWFyR3JhZGllbnQgaWQ9InBhaW50MF9saW5lYXJfNTBfNSIgeDE9IjAiIHkxPSI1MCIgeDI9IjUwIiB5Mj0iNTAiIGdyYWRpZW50VW5pdHM9InVzZXJTcGFjZU9uVXNlIj4KPHN0b3Agc3RvcC1jb2xvcj0iI0NDMjYyNiIvPgo8c3RvcCBvZmZzZXQ9IjEiIHN0b3AtY29sb3I9IiNGRjQ3MUEiLz4KPC9saW5lYXJHcmFkaWVudD4KPGxpbmVhckdyYWRpZW50IGlkPSJwYWludDFfbGluZWFyXzUwXzUiIHgxPSI1MCIgeTE9IjUwIiB4Mj0iMTAwIiB5Mj0iNTAiIGdyYWRpZW50VW5pdHM9InVzZXJTcGFjZU9uVXNlIj4KPHN0b3Agc3RvcC1jb2xvcj0iI0ZGNDcxQSIvPgo8c3RvcCBvZmZzZXQ9IjAuOTk5OSIgc3RvcC1jb2xvcj0iI0NDMjYyNiIvPgo8c3RvcCBvZmZzZXQ9IjEiIHN0b3AtY29sb3I9IiNGRjQ3MUEiLz4KPC9saW5lYXJHcmFkaWVudD4KPC9kZWZzPgo8L3N2Zz4K"},ye=[{kind:"pAndASymbol",id:"mechanical-plug-1",start:5100,end:5110,diameter:8.5,symbolKey:"mechanicalPlug"},{kind:"cementPlug",id:"cement-plug-2",start:5e3,end:5110,referenceIds:["casing-07"]}],Ie=[{kind:"perforation",subKind:"Perforation",id:"PerforationDemo1",start:4e3,end:4500,isOpen:!0},{kind:"perforation",subKind:"Cased hole frac pack",id:"PerforationDemo2",start:3500,end:4500,isOpen:!0}],ge={holeSizes:se,cements:oe,casings:te,completion:[...ee,...me],pAndA:[...ye,...ne],perforations:Ie,symbols:{...pe,...he}},y={holeLayerId:"hole-id",casingLayerId:"casing-id",completionLayerId:"completion-id",cementLayerId:"cement-id",pAndALayerId:"pAndA-id",perforationLayerId:"perforation-id"},be={order:5,referenceSystem:m,internalLayerOptions:y,data:ge},T=new He(z,"schematic-webgl-layer",be),ue=[{text:"RKB",lineType:"dashed",color:"black",depth:0},{text:"MSL",lineType:"wavy",color:"blue",depth:30},{text:"Seabed",lineType:"solid",color:"slategray",depth:91.1,lineWidth:2}],Z=new yt("sea-and-rkb-layer",{data:ue}),R=new Xe("callout",{order:100,data:de,referenceSystem:m}),xe=[B,N,G,V,j,T,Z,R],Se={scaleOptions:a,axisOptions:e,container:p,referenceSystem:m},n=new Ve({layers:xe,...Se});It(n);const Ce=et(re);tt(v,w,st).then(c=>{j.setData({image:c,options:Ce})}),n.adjustToSize(t,s),n.setViewport(1e3,1500,5e3),n.zoomPanHandler.zFactor=1;const Me=Oe(),we=h(n,B,"Grid"),je=h(n,G,"Wellbore"),Le=h(n,N,"Geo model"),ke=h(n,T,"Schematic"),ve=h(n,Z,"SeaAndRKB"),Ae=h(n,V,"Geo model labels"),De=h(n,j,"Seismic"),Pe=h(n,R,"Picks"),We=[["Holes",y.holeLayerId],["Casings",y.casingLayerId],["Cement",y.cementLayerId],["Completion",y.completionLayerId],["Plug & Abandonment",y.pAndALayerId],["Perforations",y.perforationLayerId]].map(([c,k])=>gt(n,k,c));let L=!0;const fe=b("Axis labels",c=>{L?(n.hideAxisLabels(),c.style.backgroundColor="red",c.style.color="white",L=!1):(n.showAxisLabels(),L=!0,c.style.backgroundColor="lightblue",c.style.color="")},"background: lightblue;"),ze=b("800x600",()=>{p.setAttribute("style","height: 600px; width: 800px;background-color: #eee;"),o.style.width="800px",l.style.width="800px",i.style.width="800px",n.adjustToSize(800,600)}),Be=b("600x400",()=>{p.setAttribute("style","height: 400px; width: 600px;background-color: #eee;"),o.style.width="600px",l.style.width="600px",i.style.width="600px",n.adjustToSize(600,400)}),Ne=b("Default",()=>{p.setAttribute("style",`height: ${s}px; width: ${t}px;background-color: #eee;`),o.style.width=`${t}px`,l.style.width=`${t}px`,i.style.width=`${t}px`,n.adjustToSize(t,s)}),Ge=b("Clear everything",()=>{n.clearAllData()});i.appendChild(we),i.appendChild(je),i.appendChild(Le),i.appendChild(Ae),i.appendChild(De),i.appendChild(ke),i.appendChild(ve),i.appendChild(Pe),i.appendChild(fe),l.appendChild(ze),l.appendChild(Be),l.appendChild(Ne),d.appendChild(Ge),We.forEach(c=>r.appendChild(c)),o.appendChild(g("A complete example of multiple layers comprised of SVG, Canvas, HTML and pixi.js (WebGL). We use a controller to update and display each layer in a container (just a plain div element) on top of each other.")),o.appendChild(p),o.appendChild(g("Toggle")),o.appendChild(i),o.appendChild(g("Schematic toggle")),o.appendChild(r),o.appendChild(g("Adjust size")),o.appendChild(l),o.appendChild(g("Miscellaneous")),o.appendChild(d),o.appendChild(Me)}),o};function It(a){const e=a.overlay.create("md",{onMouseMove:t=>{const{target:s,caller:o,x:i}=t,l=o.currentStateAsEvent.xScale.invert(i),{referenceSystem:r}=o,d=r.unproject(l);s.textContent=Number.isFinite(d)?`MD: ${d.toFixed(1)}`:"-",d<0||r.length<d?s.style.visibility="hidden":s.style.visibility="visible"},onMouseExit:t=>{t.target.style.visibility="hidden"}});e.style.visibility="hidden",e.style.display="inline-block",e.style.padding="2px",e.style.borderRadius="4px",e.style.textAlign="right",e.style.position="absolute",e.style.backgroundColor="rgba(0,0,0,0.5)",e.style.color="white",e.style.right="5px",e.style.bottom="5px",e.style.zIndex="100"}const h=(a,e,t)=>{const s=document.createElement("button");s.innerHTML=`${t}`,s.setAttribute("style","width: 170px;height:32px;margin-top:12px;background: lightblue;");let o=!1;return s.onclick=()=>{o?(a.showLayer(e.id),s.style.backgroundColor="lightblue",s.style.color=""):(a.hideLayer(e.id),s.style.backgroundColor="red",s.style.color="white"),o=!o},s},gt=(a,e,t)=>{const s=document.createElement("button");s.innerHTML=`${t}`,s.setAttribute("style","width: 170px;height:32px;margin-top:12px;background: lightblue;");let o=!1;return s.onclick=()=>{o?(a.showLayer(e),s.style.backgroundColor="lightblue",s.style.color=""):(a.hideLayer(e),s.style.backgroundColor="red",s.style.color="white"),o=!o},s};function b(a,e,t=""){const s=document.createElement("button");return s.innerHTML=a,s.setAttribute("style",`${t}width: 170px;height:32px;margin-top:12px;`),s.onclick=()=>e(s),s}const Dt={title:"ESV Intersection/Complete example",component:u};var Q,X,J;u.parameters={...u.parameters,docs:{...(Q=u.parameters)==null?void 0:Q.docs,source:{originalSource:`() => {
  const xBounds: [number, number] = [0, 1000];
  const yBounds: [number, number] = [0, 1000];
  const scaleOptions = {
    xBounds,
    yBounds
  };
  return renderIntersection(scaleOptions);
}`,...(J=(X=u.parameters)==null?void 0:X.docs)==null?void 0:J.source}}};var K,$,q;S.parameters={...S.parameters,docs:{...(K=S.parameters)==null?void 0:K.docs,source:{originalSource:`() => {
  const xBounds: [number, number] = [1000, 0];
  const yBounds: [number, number] = [0, 1000];
  const scaleOptions = {
    xBounds,
    yBounds
  };
  return renderIntersection(scaleOptions);
}`,...(q=($=S.parameters)==null?void 0:$.docs)==null?void 0:q.source}}};const Pt=["intersection","intersectionFlipX"];export{Pt as __namedExportsOrder,Dt as default,u as intersection,S as intersectionFlipX};
