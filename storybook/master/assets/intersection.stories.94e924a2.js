var Be=Object.defineProperty;var Ne=(n,s,e)=>s in n?Be(n,s,{enumerable:!0,configurable:!0,writable:!0,value:e}):n[s]=e;var k=(n,s,e)=>(Ne(n,typeof s!="symbol"?s+"":s,e),e);import{I as O,C as Ge}from"./MainController.5bd28a66.js";import{C as Ve,c as Te,a as S,b as Ze,g as Re,d as Fe,e as g}from"./elements.87f68392.js";import{P as U}from"./PixiLayer.a52855e3.js";import{c as Ee,t as He,g as Oe,C as Ue}from"./picks.4e13c559.js";import{G as Ye,a as Qe}from"./GeomodelLayerV2.4a7ba33c.js";import{G as Xe}from"./GridLayer.439d0b2f.js";import{a as Je,S as Ke}from"./SchematicLayer.d0a5c34c.js";import{g as $e,S as qe,a as _e,b as et,s as tt}from"./seismic-colormap.0bf6b461.js";import{W as ot}from"./WellborePathLayer.e026dac6.js";import{g as st,a as it,b as nt,c as at,d as rt,e as lt,f as ct,h as dt,i as pt,j as mt}from"./data.640a7923.js";import"./_commonjsHelpers.c10bf6cb.js";import"./findsample.2f856921.js";const Y=(n,s)=>{switch(s.lineType){case"wavy":return n.wavy(s);case"dashed":return n.dashed(s);case"solid":return n.solid(s);default:return Je(s.lineType)}};class yt extends Ve{constructor(){super(...arguments);k(this,"yScale",null);k(this,"xScale",null)}onMount(e){super.onMount(e)}onUpdate(e){super.onUpdate(e),this.clearCanvas(),this.render()}onRescale(e){super.onRescale(e),this.yScale=e.yScale,this.xScale=e.xScale,this.resetTransform(),this.render()}drawDashed(e){const{ctx:t}=this,{canvas:o}=this,i=this.yScale(e.depth);t.save(),t.strokeStyle=e.color,this.setCtxLineStyle(t,e),this.setCtxLineWidth(t,e),t.beginPath(),t.moveTo(0,i),t.lineTo(o.width,i),t.stroke(),t.restore(),e.text&&this.drawText(t,e,t.canvas.width,i)}drawSolid(e){const{ctx:t}=this,{canvas:o}=this,i=this.yScale(e.depth);t.save(),t.strokeStyle=e.color,this.setCtxLineStyle(t,e),this.setCtxLineWidth(t,e),t.beginPath(),t.moveTo(0,i),t.lineTo(o.width,i),t.stroke(),t.restore(),e.text&&this.drawText(t,e,t.canvas.width,i)}drawWavy(e){const{ctx:a}=this,{canvas:d}=this,l=Ee(4,2.5,500,this.yScale),p=l*2,u=this.yScale(e.depth)-l,M=Math.ceil(d.width/p)+1,x=this.xScale(0)%p;a.save(),a.strokeStyle=e.color,this.setCtxLineStyle(a,e),this.setCtxLineWidth(a,e);for(let I=-1;I<M;I++)a.beginPath(),a.arc(I*p+x+l,u,l,0,Math.PI),a.stroke();a.restore(),e.text&&this.drawText(a,e,a.canvas.width,u)}drawText(e,t,o,i){const a=t.textColor||"#000",d=t.fontSize||"10px sans-serif",l=10;e.save(),e.strokeStyle=a,e.font=d,e.textAlign="end",e.textBaseline="bottom",e.fillText(t.text,o-l,i),e.restore()}setCtxLineStyle(e,t){Y({solid:()=>{e.setLineDash([])},dashed:()=>{e.setLineDash([8,10])},wavy:()=>{e.setLineDash([])}},t)}setCtxLineWidth(e,t){e.lineWidth=t.lineWidth||1}render(){!this.ctx||!this.yScale||!this.xScale||requestAnimationFrame(()=>{var e;this.clearCanvas(),(e=this.data)==null||e.forEach(t=>{Y({solid:o=>this.drawSolid(o),dashed:o=>this.drawDashed(o),wavy:o=>this.drawWavy(o)},t)})})}}const C=()=>J({xBounds:[0,1e3],yBounds:[0,1e3]}),A=()=>J({xBounds:[1e3,0],yBounds:[0,1e3]}),J=n=>{const s={xLabel:"Displacement",yLabel:"TVD MSL",unitOfMeasure:"m"},e=700,t=600,o=Te(e),i=S(e),a=S(e),d=S(e),l=S(e),p=Ze(e,t),u=[st(),it(),nt(),at(),rt(),lt(),ct(),dt(),pt(),mt()];return Promise.all(u).then(M=>{var F,E,H;const[x,I,D,P,W,K,$,q,_,ee]=M,m=new O(x);m.offset=x[0][2];const te=1e3/(m.displacement||1),oe=((H=(E=(F=P[0])==null?void 0:F.data)==null?void 0:E.values)==null?void 0:H.length)||1,f=m.getTrajectory(oe,0,1+te),w=O.toDisplacement(f.points,f.offset),z=Re(w,W,P),se=$e(D,w),ie=He(_,W),ne=Oe(ie),ae=new U({width:e,height:t}),re=new U({width:e,height:t}),B=new Xe("grid",{majorColor:"black",minorColor:"gray",majorWidth:.5,minorWidth:.5,order:1,referenceSystem:m}),N=new Ye(ae,"geomodel",{order:2,layerOpacity:.6,data:z}),G=new ot("wellborepath",{order:3,strokeWidth:"2px",stroke:"red",referenceSystem:m}),V=new Qe("geomodellabels",{order:3,data:z}),j=new qe("seismic",{order:1}),le={completionSymbol1:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTAwIiBoZWlnaHQ9IjEwMCIgdmlld0JveD0iMCAwIDEwMCAxMDAiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjxwYXRoIGQ9Ik0xMCAwSDkwVjEwMEgxMFYwWiIgZmlsbD0iI0Q5RDlEOSIvPgo8cGF0aCBkPSJNMCAyNUgxMFY3NUgwVjI1WiIgZmlsbD0iI0I1QjJCMiIvPgo8cGF0aCBkPSJNNDUgMjVINTVWNzVINDVWMjVaIiBmaWxsPSIjQjVCMkIyIi8+CjxwYXRoIGQ9Ik05MCAyNUgxMDBWNzVIOTBWMjVaIiBmaWxsPSIjQjVCMkIyIi8+Cjwvc3ZnPgo=",completionSymbol2:"tubing1.svg",completionSymbol3:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTAwIiBoZWlnaHQ9IjEwMCIgdmlld0JveD0iMCAwIDEwMCAxMDAiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjxwYXRoIGQ9Ik0xMCAwSDkwVjEwMEgxMFYwWiIgZmlsbD0iI0Q5RDlEOSIvPgo8cGF0aCBkPSJNMCAyNUgxMFY3NUgwVjI1WiIgZmlsbD0iI0I1QjJCMiIvPgo8cGF0aCBkPSJNNDUgMjVINTVWNzVINDVWMjVaIiBmaWxsPSIjQjVCMkIyIi8+CjxwYXRoIGQ9Ik0yNSA2NUgzMFY4MEgyNVY2NVoiIGZpbGw9IiMzMTMxMzEiLz4KPHBhdGggZD0iTTI1IDQySDMwVjU3SDI1VjQyWiIgZmlsbD0iIzMxMzEzMSIvPgo8cGF0aCBkPSJNMjUgMjFIMzBWMzZIMjVWMjFaIiBmaWxsPSIjMzEzMTMxIi8+CjxwYXRoIGQ9Ik03MCA2NEg3NVY3OUg3MFY2NFoiIGZpbGw9IiMzMTMxMzEiLz4KPHBhdGggZD0iTTcwIDQxSDc1VjU2SDcwVjQxWiIgZmlsbD0iIzMxMzEzMSIvPgo8cGF0aCBkPSJNNzAgMjBINzVWMzVINzBWMjBaIiBmaWxsPSIjMzEzMTMxIi8+CjxwYXRoIGQ9Ik05MCAyNUgxMDBWNzVIOTBWMjVaIiBmaWxsPSIjQjVCMkIyIi8+Cjwvc3ZnPgo="},ce=[{kind:"completionSymbol",id:"completion-svg-1",start:5250,end:5252,diameter:8.5,symbolKey:"completionSymbol1"},{kind:"completionSymbol",id:"completion-svg-2",start:5252,end:5274,diameter:8.5,symbolKey:"completionSymbol2"},{kind:"completionSymbol",id:"completion-svg-3",start:5274,end:5276,diameter:8.5,symbolKey:"completionSymbol3"}],de={mechanicalPlug:"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5vIj8+Cjxzdmcgd2lkdGg9IjEwMCIgaGVpZ2h0PSIxMDAiIHZpZXdCb3g9IjAgMCAxMDAgMTAwIiBmaWxsPSJub25lIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciPgo8cGF0aCBkPSJNMSAxSDk5Vjk5SDFWMVoiIGZpbGw9InVybCgjcGFpbnQwX2xpbmVhcl81MF81KSIvPgo8cGF0aCBkPSJNMSAxSDk5Vjk5SDFWMVoiIGZpbGw9InVybCgjcGFpbnQxX2xpbmVhcl81MF81KSIgZmlsbC1vcGFjaXR5PSIwLjIiLz4KPHBhdGggZD0iTTEgMUg5OVY5OUgxVjFaIiBzdHJva2U9ImJsYWNrIiBzdHJva2Utd2lkdGg9IjIiLz4KPGxpbmUgeDE9IjEuNzEwNzIiIHkxPSIxLjI5NjUzIiB4Mj0iOTguNzEwNyIgeTI9Ijk5LjI5NjUiIHN0cm9rZT0iYmxhY2siIHN0cm9rZS13aWR0aD0iMiIvPgo8bGluZSB4MT0iOTguNzA3MSIgeTE9IjAuNzA3MTA3IiB4Mj0iMC43MDcxIiB5Mj0iOTguNzA3MSIgc3Ryb2tlPSJibGFjayIgc3Ryb2tlLXdpZHRoPSIyIi8+CjxkZWZzPgo8bGluZWFyR3JhZGllbnQgaWQ9InBhaW50MF9saW5lYXJfNTBfNSIgeDE9IjAiIHkxPSI1MCIgeDI9IjUwIiB5Mj0iNTAiIGdyYWRpZW50VW5pdHM9InVzZXJTcGFjZU9uVXNlIj4KPHN0b3Agc3RvcC1jb2xvcj0iI0NDMjYyNiIvPgo8c3RvcCBvZmZzZXQ9IjEiIHN0b3AtY29sb3I9IiNGRjQ3MUEiLz4KPC9saW5lYXJHcmFkaWVudD4KPGxpbmVhckdyYWRpZW50IGlkPSJwYWludDFfbGluZWFyXzUwXzUiIHgxPSI1MCIgeTE9IjUwIiB4Mj0iMTAwIiB5Mj0iNTAiIGdyYWRpZW50VW5pdHM9InVzZXJTcGFjZU9uVXNlIj4KPHN0b3Agc3RvcC1jb2xvcj0iI0ZGNDcxQSIvPgo8c3RvcCBvZmZzZXQ9IjAuOTk5OSIgc3RvcC1jb2xvcj0iI0NDMjYyNiIvPgo8c3RvcCBvZmZzZXQ9IjEiIHN0b3AtY29sb3I9IiNGRjQ3MUEiLz4KPC9saW5lYXJHcmFkaWVudD4KPC9kZWZzPgo8L3N2Zz4K"},pe=[{kind:"pAndASymbol",id:"mechanical-plug-1",start:5100,end:5110,diameter:8.5,symbolKey:"mechanicalPlug"},{kind:"cementPlug",id:"cement-plug-2",start:5e3,end:5110,referenceIds:["casing-07"]}],me=[{kind:"perforation",subKind:"Perforation",id:"PerforationDemo1",start:4e3,end:4500,isOpen:!0},{kind:"perforation",subKind:"Cased hole frac pack",id:"PerforationDemo2",start:3500,end:4500,isOpen:!0}],ye={holeSizes:$,cements:q,casings:K,completion:[...I,...ce],pAndA:[...pe,...ee],perforations:me,symbols:{...le,...de}},h={holeLayerId:"hole-id",casingLayerId:"casing-id",completionLayerId:"completion-id",cementLayerId:"cement-id",pAndALayerId:"pAndA-id",perforationLayerId:"perforation-id"},he={order:5,referenceSystem:m,internalLayerOptions:h,data:ye},T=new Ke(re,"schematic-webgl-layer",he),Ie=[{text:"RKB",lineType:"dashed",color:"black",depth:0},{text:"MSL",lineType:"wavy",color:"blue",depth:30},{text:"Seabed",lineType:"solid",color:"slategray",depth:91.1,lineWidth:2}],Z=new yt("sea-and-rkb-layer",{data:Ie}),R=new Ue("callout",{order:100,data:ne,referenceSystem:m}),ge=[B,N,G,V,j,T,Z,R],be={scaleOptions:n,axisOptions:s,container:p,referenceSystem:m},r=new Ge({layers:ge,...be});ht(r);const ue=_e(se);et(D,w,tt).then(c=>{j.setData({image:c,options:ue})}),r.adjustToSize(e,t),r.setViewport(1e3,1500,5e3),r.zoomPanHandler.zFactor=1;const xe=Fe(),Se=y(r,B,"Grid"),Ce=y(r,G,"Wellbore"),Me=y(r,N,"Geo model"),we=y(r,T,"Schematic"),je=y(r,Z,"SeaAndRKB"),Le=y(r,V,"Geo model labels"),ve=y(r,j,"Seismic"),ke=y(r,R,"Picks"),Ae=[["Holes",h.holeLayerId],["Casings",h.casingLayerId],["Cement",h.cementLayerId],["Completion",h.completionLayerId],["Plug & Abandonment",h.pAndALayerId],["Perforations",h.perforationLayerId]].map(([c,v])=>It(r,v,c));let L=!0;const De=b("Axis labels",c=>{L?(r.hideAxisLabels(),c.style.backgroundColor="red",c.style.color="white",L=!1):(r.showAxisLabels(),L=!0,c.style.backgroundColor="lightblue",c.style.color="")},"background: lightblue;"),Pe=b("800x600",()=>{p.setAttribute("style",`height: ${600}px; width: ${800}px;background-color: #eee;`),o.style.width=`${800}px`,a.style.width=`${800}px`,i.style.width=`${800}px`,r.adjustToSize(800,600)}),We=b("600x400",()=>{p.setAttribute("style",`height: ${400}px; width: ${600}px;background-color: #eee;`),o.style.width=`${600}px`,a.style.width=`${600}px`,i.style.width=`${600}px`,r.adjustToSize(600,400)}),fe=b("Default",()=>{p.setAttribute("style",`height: ${t}px; width: ${e}px;background-color: #eee;`),o.style.width=`${e}px`,a.style.width=`${e}px`,i.style.width=`${e}px`,r.adjustToSize(e,t)}),ze=b("Clear everything",()=>{r.clearAllData()});i.appendChild(Se),i.appendChild(Ce),i.appendChild(Me),i.appendChild(Le),i.appendChild(ve),i.appendChild(we),i.appendChild(je),i.appendChild(ke),i.appendChild(De),a.appendChild(Pe),a.appendChild(We),a.appendChild(fe),l.appendChild(ze),Ae.forEach(c=>d.appendChild(c)),o.appendChild(g("A complete example of multiple layers comprised of SVG, Canvas, HTML and pixi.js (WebGL). We use a controller to update and display each layer in a container (just a plain div element) on top of each other.")),o.appendChild(p),o.appendChild(g("Toggle")),o.appendChild(i),o.appendChild(g("Schematic toggle")),o.appendChild(d),o.appendChild(g("Adjust size")),o.appendChild(a),o.appendChild(g("Miscellaneous")),o.appendChild(l),o.appendChild(xe)}),o};function ht(n){const s=n.overlay.create("md",{onMouseMove:e=>{const{target:t,caller:o,x:i}=e,a=o.currentStateAsEvent.xScale.invert(i),{referenceSystem:d}=o,l=d.unproject(a);t.textContent=Number.isFinite(l)?`MD: ${l.toFixed(1)}`:"-",l<0||d.length<l?t.style.visibility="hidden":t.style.visibility="visible"},onMouseExit:e=>{e.target.style.visibility="hidden"}});s.style.visibility="hidden",s.style.display="inline-block",s.style.padding="2px",s.style.borderRadius="4px",s.style.textAlign="right",s.style.position="absolute",s.style.backgroundColor="rgba(0,0,0,0.5)",s.style.color="white",s.style.right="5px",s.style.bottom="5px",s.style.zIndex="100"}const y=(n,s,e)=>{const t=document.createElement("button");t.innerHTML=`${e}`,t.setAttribute("style","width: 170px;height:32px;margin-top:12px;background: lightblue;");let o=!1;return t.onclick=()=>{o?(n.showLayer(s.id),t.style.backgroundColor="lightblue",t.style.color=""):(n.hideLayer(s.id),t.style.backgroundColor="red",t.style.color="white"),o=!o},t},It=(n,s,e)=>{const t=document.createElement("button");t.innerHTML=`${e}`,t.setAttribute("style","width: 170px;height:32px;margin-top:12px;background: lightblue;");let o=!1;return t.onclick=()=>{o?(n.showLayer(s),t.style.backgroundColor="lightblue",t.style.color=""):(n.hideLayer(s),t.style.backgroundColor="red",t.style.color="white"),o=!o},t};function b(n,s,e=""){const t=document.createElement("button");return t.innerHTML=n,t.setAttribute("style",`${e}width: 170px;height:32px;margin-top:12px;`),t.onclick=()=>s(t),t}const Pt={title:"ESV Intersection/Complete example",component:C};var Q;C.parameters={...C.parameters,storySource:{source:`() => {
  const xBounds: [number, number] = [0, 1000];
  const yBounds: [number, number] = [0, 1000];
  const scaleOptions = {
    xBounds,
    yBounds
  };
  return renderIntersection(scaleOptions);
}`,...(Q=C.parameters)==null?void 0:Q.storySource}};var X;A.parameters={...A.parameters,storySource:{source:`() => {
  const xBounds: [number, number] = [1000, 0];
  const yBounds: [number, number] = [0, 1000];
  const scaleOptions = {
    xBounds,
    yBounds
  };
  return renderIntersection(scaleOptions);
}`,...(X=A.parameters)==null?void 0:X.storySource}};const Wt=["intersection","intersectionFlipX"];export{Wt as __namedExportsOrder,Pt as default,C as intersection,A as intersectionFlipX};
//# sourceMappingURL=intersection.stories.94e924a2.js.map
