var G=Object.defineProperty;var Z=(t,i,n)=>i in t?G(t,i,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[i]=n;var T=(t,i,n)=>(Z(t,typeof i!="symbol"?i+"":i,n),n);import{L as Q,D as J,j as K,s as tt}from"./elements.b2968f38.js";class it extends Q{constructor(){super(...arguments);T(this,"elm")}onMount(n){super.onMount(n);const{elm:e}=n,s=n.width||parseInt(e.getAttribute("width"),10)||J,_=n.height||parseInt(e.getAttribute("height"),10)||K;this.elm||(this.elm=tt(e).append("svg"),this.elm.attr("id",`${this.id}`),this.elm.attr("class","svg-layer")),this.elm.attr("height",_).attr("width",s);const h=this.interactive?"auto":"none";this.elm.style("position","absolute").style("pointer-events",h).style("opacity",this.opacity).style("z-index",this.order)}onUnmount(){super.onUnmount(),this.elm.remove(),this.elm=null}onResize(n){!this.elm||(super.onResize(n),this.elm.attr("height",n.height).attr("width",n.width))}setVisibility(n){super.setVisibility(n),this.elm&&this.elm.attr("visibility",n?"visible":"hidden")}onOpacityChanged(n){this.elm&&this.elm.style("opacity",n)}onOrderChanged(n){this.elm&&this.elm.style("z-index",n)}onInteractivityChanged(n){if(this.elm){const e=n?"auto":"none";this.elm.style("pointer-events",e)}}}function x(t){return function(){return t}}const L=1e-12,w=Math.PI,$=2*w,p=1e-6,nt=$-p;function D(t){this._+=t[0];for(let i=1,n=t.length;i<n;++i)this._+=arguments[i]+t[i]}function et(t){let i=Math.floor(t);if(!(i>=0))throw new Error(`invalid digits: ${t}`);if(i>15)return D;const n=10**i;return function(e){this._+=e[0];for(let s=1,_=e.length;s<_;++s)this._+=Math.round(arguments[s]*n)/n+e[s]}}class st{constructor(i){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=i==null?D:et(i)}moveTo(i,n){this._append`M${this._x0=this._x1=+i},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(i,n){this._append`L${this._x1=+i},${this._y1=+n}`}quadraticCurveTo(i,n,e,s){this._append`Q${+i},${+n},${this._x1=+e},${this._y1=+s}`}bezierCurveTo(i,n,e,s,_,h){this._append`C${+i},${+n},${+e},${+s},${this._x1=+_},${this._y1=+h}`}arcTo(i,n,e,s,_){if(i=+i,n=+n,e=+e,s=+s,_=+_,_<0)throw new Error(`negative radius: ${_}`);let h=this._x1,r=this._y1,o=e-i,a=s-n,l=h-i,u=r-n,c=l*l+u*u;if(this._x1===null)this._append`M${this._x1=i},${this._y1=n}`;else if(c>p)if(!(Math.abs(u*o-a*l)>p)||!_)this._append`L${this._x1=i},${this._y1=n}`;else{let f=e-h,v=s-r,N=o*o+a*a,X=f*f+v*v,M=Math.sqrt(N),S=Math.sqrt(c),C=_*Math.tan((w-Math.acos((N+c-X)/(2*M*S)))/2),m=C/S,A=C/M;Math.abs(m-1)>p&&this._append`L${i+m*l},${n+m*u}`,this._append`A${_},${_},0,0,${+(u*f>l*v)},${this._x1=i+A*o},${this._y1=n+A*a}`}}arc(i,n,e,s,_,h){if(i=+i,n=+n,e=+e,h=!!h,e<0)throw new Error(`negative radius: ${e}`);let r=e*Math.cos(s),o=e*Math.sin(s),a=i+r,l=n+o,u=1^h,c=h?s-_:_-s;this._x1===null?this._append`M${a},${l}`:(Math.abs(this._x1-a)>p||Math.abs(this._y1-l)>p)&&this._append`L${a},${l}`,e&&(c<0&&(c=c%$+$),c>nt?this._append`A${e},${e},0,1,${u},${i-r},${n-o}A${e},${e},0,1,${u},${this._x1=a},${this._y1=l}`:c>p&&this._append`A${e},${e},0,${+(c>=w)},${u},${this._x1=i+e*Math.cos(_)},${this._y1=n+e*Math.sin(_)}`)}rect(i,n,e,s){this._append`M${this._x0=this._x1=+i},${this._y0=this._y1=+n}h${e=+e}v${+s}h${-e}Z`}toString(){return this._}}function _t(t){let i=3;return t.digits=function(n){if(!arguments.length)return i;if(n==null)i=null;else{const e=Math.floor(n);if(!(e>=0))throw new RangeError(`invalid digits: ${n}`);i=e}return t},()=>new st(i)}function ht(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function V(t){this._context=t}V.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,i){switch(t=+t,i=+i,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,i):this._context.moveTo(t,i);break;case 1:this._point=2;default:this._context.lineTo(t,i);break}}};function W(t){return new V(t)}function ot(t){return t[0]}function rt(t){return t[1]}function at(t,i){var n=x(!0),e=null,s=W,_=null,h=_t(r);t=typeof t=="function"?t:t===void 0?ot:x(t),i=typeof i=="function"?i:i===void 0?rt:x(i);function r(o){var a,l=(o=ht(o)).length,u,c=!1,f;for(e==null&&(_=s(f=h())),a=0;a<=l;++a)!(a<l&&n(u=o[a],a,o))===c&&((c=!c)?_.lineStart():_.lineEnd()),c&&_.point(+t(u,a,o),+i(u,a,o));if(f)return _=null,f+""||null}return r.x=function(o){return arguments.length?(t=typeof o=="function"?o:x(+o),r):t},r.y=function(o){return arguments.length?(i=typeof o=="function"?o:x(+o),r):i},r.defined=function(o){return arguments.length?(n=typeof o=="function"?o:x(!!o),r):n},r.curve=function(o){return arguments.length?(s=o,e!=null&&(_=s(e)),r):s},r.context=function(o){return arguments.length?(o==null?e=_=null:_=s(e=o),r):e},r}function P(){}function g(t,i,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+i)/6,(t._y0+4*t._y1+n)/6)}function y(t){this._context=t}y.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:g(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,i){switch(t=+t,i=+i,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,i):this._context.moveTo(t,i);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:g(this,t,i);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=i}};function lt(t){return new y(t)}function j(t){this._context=t}j.prototype={areaStart:P,areaEnd:P,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,i){switch(t=+t,i=+i,this._point){case 0:this._point=1,this._x2=t,this._y2=i;break;case 1:this._point=2,this._x3=t,this._y3=i;break;case 2:this._point=3,this._x4=t,this._y4=i,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+i)/6);break;default:g(this,t,i);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=i}};function ct(t){return new j(t)}function O(t,i){this._basis=new y(t),this._beta=i}O.prototype={lineStart:function(){this._x=[],this._y=[],this._basis.lineStart()},lineEnd:function(){var t=this._x,i=this._y,n=t.length-1;if(n>0)for(var e=t[0],s=i[0],_=t[n]-e,h=i[n]-s,r=-1,o;++r<=n;)o=r/n,this._basis.point(this._beta*t[r]+(1-this._beta)*(e+o*_),this._beta*i[r]+(1-this._beta)*(s+o*h));this._x=this._y=null,this._basis.lineEnd()},point:function(t,i){this._x.push(+t),this._y.push(+i)}};const ut=function t(i){function n(e){return i===1?new y(e):new O(e,i)}return n.beta=function(e){return t(+e)},n}(.85);function R(t,i,n){t._context.bezierCurveTo(t._x1+t._k*(t._x2-t._x0),t._y1+t._k*(t._y2-t._y0),t._x2+t._k*(t._x1-i),t._y2+t._k*(t._y1-n),t._x2,t._y2)}function E(t,i){this._context=t,this._k=(1-i)/6}E.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:R(this,this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,i){switch(t=+t,i=+i,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,i):this._context.moveTo(t,i);break;case 1:this._point=2,this._x1=t,this._y1=i;break;case 2:this._point=3;default:R(this,t,i);break}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=i}};const ft=function t(i){function n(e){return new E(e,i)}return n.tension=function(e){return t(+e)},n}(0);function pt(t,i,n){var e=t._x1,s=t._y1,_=t._x2,h=t._y2;if(t._l01_a>L){var r=2*t._l01_2a+3*t._l01_a*t._l12_a+t._l12_2a,o=3*t._l01_a*(t._l01_a+t._l12_a);e=(e*r-t._x0*t._l12_2a+t._x2*t._l01_2a)/o,s=(s*r-t._y0*t._l12_2a+t._y2*t._l01_2a)/o}if(t._l23_a>L){var a=2*t._l23_2a+3*t._l23_a*t._l12_a+t._l12_2a,l=3*t._l23_a*(t._l23_a+t._l12_a);_=(_*a+t._x1*t._l23_2a-i*t._l12_2a)/l,h=(h*a+t._y1*t._l23_2a-n*t._l12_2a)/l}t._context.bezierCurveTo(e,s,_,h,t._x2,t._y2)}function Y(t,i){this._context=t,this._alpha=i}Y.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,i){if(t=+t,i=+i,this._point){var n=this._x2-t,e=this._y2-i;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+e*e,this._alpha))}switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,i):this._context.moveTo(t,i);break;case 1:this._point=2;break;case 2:this._point=3;default:pt(this,t,i);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=i}};const xt=function t(i){function n(e){return i?new Y(e,i):new E(e,0)}return n.alpha=function(e){return t(+e)},n}(.5);function B(t){return t<0?-1:1}function z(t,i,n){var e=t._x1-t._x0,s=i-t._x1,_=(t._y1-t._y0)/(e||s<0&&-0),h=(n-t._y1)/(s||e<0&&-0),r=(_*s+h*e)/(e+s);return(B(_)+B(h))*Math.min(Math.abs(_),Math.abs(h),.5*Math.abs(r))||0}function U(t,i){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-i)/2:i}function k(t,i,n){var e=t._x0,s=t._y0,_=t._x1,h=t._y1,r=(_-e)/3;t._context.bezierCurveTo(e+r,s+r*i,_-r,h-r*n,_,h)}function d(t){this._context=t}d.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:k(this,this._t0,U(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,i){var n=NaN;if(t=+t,i=+i,!(t===this._x1&&i===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,i):this._context.moveTo(t,i);break;case 1:this._point=2;break;case 2:this._point=3,k(this,U(this,n=z(this,t,i)),n);break;default:k(this,this._t0,n=z(this,t,i));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=i,this._t0=n}}};function q(t){this._context=new H(t)}(q.prototype=Object.create(d.prototype)).point=function(t,i){d.prototype.point.call(this,i,t)};function H(t){this._context=t}H.prototype={moveTo:function(t,i){this._context.moveTo(i,t)},closePath:function(){this._context.closePath()},lineTo:function(t,i){this._context.lineTo(i,t)},bezierCurveTo:function(t,i,n,e,s,_){this._context.bezierCurveTo(i,t,e,n,_,s)}};function dt(t){return new d(t)}function yt(t){return new q(t)}function F(t){this._context=t}F.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,i=this._y,n=t.length;if(n)if(this._line?this._context.lineTo(t[0],i[0]):this._context.moveTo(t[0],i[0]),n===2)this._context.lineTo(t[1],i[1]);else for(var e=I(t),s=I(i),_=0,h=1;h<n;++_,++h)this._context.bezierCurveTo(e[0][_],s[0][_],e[1][_],s[1][_],t[h],i[h]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,i){this._x.push(+t),this._y.push(+i)}};function I(t){var i,n=t.length-1,e,s=new Array(n),_=new Array(n),h=new Array(n);for(s[0]=0,_[0]=2,h[0]=t[0]+2*t[1],i=1;i<n-1;++i)s[i]=1,_[i]=4,h[i]=4*t[i]+2*t[i+1];for(s[n-1]=2,_[n-1]=7,h[n-1]=8*t[n-1]+t[n],i=1;i<n;++i)e=s[i]/_[i-1],_[i]-=e,h[i]-=e*h[i-1];for(s[n-1]=h[n-1]/_[n-1],i=n-2;i>=0;--i)s[i]=(h[i]-s[i+1])/_[i];for(_[n-1]=(t[n]+s[n-1])/2,i=0;i<n-1;++i)_[i]=2*t[i+1]-s[i+1];return[s,_]}function bt(t){return new F(t)}function b(t,i){this._context=t,this._t=i}b.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,i){switch(t=+t,i=+i,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,i):this._context.moveTo(t,i);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,i),this._context.lineTo(t,i);else{var n=this._x*(1-this._t)+t*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,i)}break}}this._x=t,this._y=i}};function vt(t){return new b(t,.5)}function mt(t){return new b(t,0)}function Tt(t){return new b(t,1)}const kt=.7,wt=.9,$t=1;class Nt extends it{constructor(n,e){super(n,e);T(this,"rescaleEvent");this.options={...this.options,...e},this.render=this.render.bind(this)}onUpdate(n){super.onUpdate(n),this.render()}onRescale(n){super.onRescale(n),this.elm&&(this.rescaleEvent=n,this.render())}render(){const{strokeWidth:n,stroke:e}=this.options;if(!this.elm)return;this.elm.select("g").remove();const s=this.data||this.referenceSystem&&this.referenceSystem.projectedPath;!s||!this.rescaleEvent||this.elm.append("g").attr("class","well-path").append("path").attr("d",this.renderWellborePath(s)).attr("stroke-width",n||"2px").attr("stroke",e||"red").attr("fill","none")}renderWellborePath(n){const{xScale:e,yScale:s}=this.rescaleEvent,_=n.map(a=>[e(a[0]),s(a[1])]);let h;const{curveType:r,tension:o}=this.options;switch(r){default:case"curveCatmullRom":h=xt.alpha(o||kt);break;case"curveLinear":h=W;break;case"curveBasis":h=lt;break;case"curveBasisClosed":h=ct;break;case"curveBundle":h=ut.beta(o||$t);break;case"curveCardinal":h=ft.tension(o||wt);break;case"curveMonotoneX":h=dt;break;case"curveMonotoneY":h=yt;break;case"curveNatural":h=bt;break;case"curveStep":h=vt;break;case"curveStepAfter":h=Tt;break;case"curveStepBefore":h=mt;break}return at().curve(h)(_)}}export{Nt as W};
//# sourceMappingURL=WellborePathLayer.669d3395.js.map
