import{I as E,C as Ve}from"./MainController-ae0d41fa.js";import{C as Te,a as Ze,c as Re,b as x,d as Fe,g as Ee,P as H,S as He,e as Oe,f as g}from"./elements-84f906e9.js";import{c as Ue,t as Ye,g as Qe,C as Xe}from"./picks-4685a18c.js";import{G as Je,a as Ke}from"./GeomodelLayerV2-032ec5d4.js";import{G as $e}from"./GridLayer-416fefe9.js";import{g as qe,S as _e,a as et,b as tt,s as st}from"./seismic-colormap-ee0d3420.js";import{W as ot}from"./WellborePathLayer-4cd0b66f.js";import{g as nt,a as it,b as at,c as lt,d as rt,e as ct,f as dt,h as pt,i as mt,j as ht}from"./data-e45bb153.js";import"./findsample-cc6ecc23.js";const O=(a,e)=>{switch(e.lineType){case"wavy":return a.wavy(e);case"dashed":return a.dashed(e);case"solid":return a.solid(e);default:return Ze(e.lineType)}};class yt extends Te{constructor(){super(...arguments),this.yScale=null,this.xScale=null}onMount(e){super.onMount(e)}onUpdate(e){super.onUpdate(e),this.clearCanvas(),this.render()}onRescale(e){super.onRescale(e),this.yScale=e.yScale,this.xScale=e.xScale,this.resetTransform(),this.render()}drawDashed(e){var o;const{ctx:t}=this,{canvas:s}=this;if(t!=null&&s!=null){const n=(o=this.yScale)==null?void 0:o.call(this,e.depth);t.save(),t.strokeStyle=e.color,this.setCtxLineStyle(t,e),this.setCtxLineWidth(t,e),t.beginPath(),t.moveTo(0,n),t.lineTo(s.width,n),t.stroke(),t.restore(),e.text&&this.drawText(t,e,t.canvas.width,n)}}drawSolid(e){const{ctx:t}=this,{canvas:s}=this,o=this.yScale(e.depth);t!=null&&s!=null&&(t.save(),t.strokeStyle=e.color,this.setCtxLineStyle(t,e),this.setCtxLineWidth(t,e),t.beginPath(),t.moveTo(0,o),t.lineTo(s.width,o),t.stroke(),t.restore(),e.text&&this.drawText(t,e,t.canvas.width,o))}drawWavy(e){const{ctx:n,canvas:l}=this;if(this.xScale!=null&&this.yScale!=null&&l!=null&&n!=null){const r=Ue(4,2.5,500,this.yScale),d=r*2,p=this.yScale(e.depth)-r,C=Math.ceil(l.width/d)+1,M=this.xScale(0)%d;n.save(),n.strokeStyle=e.color,this.setCtxLineStyle(n,e),this.setCtxLineWidth(n,e);for(let I=-1;I<C;I++)n.beginPath(),n.arc(I*d+M+r,p,r,0,Math.PI),n.stroke();n.restore(),e.text&&this.drawText(n,e,n.canvas.width,p)}}drawText(e,t,s,o){const n=t.textColor||"#000",l=t.fontSize||"10px sans-serif",r=10;e.save(),e.strokeStyle=n,e.font=l,e.textAlign="end",e.textBaseline="bottom",e.fillText(t.text??"",s-r,o),e.restore()}setCtxLineStyle(e,t){O({solid:()=>{e.setLineDash([])},dashed:()=>{e.setLineDash([8,10])},wavy:()=>{e.setLineDash([])}},t)}setCtxLineWidth(e,t){e.lineWidth=t.lineWidth||1}render(){!this.ctx||!this.yScale||!this.xScale||requestAnimationFrame(()=>{var e;this.clearCanvas(),(e=this.data)==null||e.forEach(t=>{O({solid:s=>this.drawSolid(s),dashed:s=>this.drawDashed(s),wavy:s=>this.drawWavy(s)},t)})})}}const u=()=>$({xBounds:[0,1e3],yBounds:[0,1e3]}),S=()=>$({xBounds:[1e3,0],yBounds:[0,1e3]}),$=a=>{const e={xLabel:"Displacement",yLabel:"TVD MSL",unitOfMeasure:"m"},t=700,s=600,o=Re(t),n=x(t),l=x(t),r=x(t),d=x(t),p=Fe(t,s),C=[nt(),it(),at(),lt(),rt(),ct(),dt(),pt(),mt(),ht()];return Promise.all(C).then(M=>{var Z,R,F;const[I,q,k,A,D,_,ee,te,se,oe]=M,m=new E(I);m.offset=I[0][2];const ne=1e3/(m.displacement||1),ie=((F=(R=(Z=A[0])==null?void 0:Z.data)==null?void 0:R.values)==null?void 0:F.length)||1,P=m.getTrajectory(ie,0,1+ne),w=E.toDisplacement(P.points,P.offset),W=Ee(w,D,A),ae=qe(k,w),le=Ye(se,D),re=Qe(le),ce=new H({width:t,height:s}),de=new H({width:t,height:s}),f=new $e("grid",{majorColor:"black",minorColor:"gray",majorWidth:.5,minorWidth:.5,order:1,referenceSystem:m}),z=new Je(ce,"geomodel",{order:2,layerOpacity:.6,data:W}),B=new ot("wellborepath",{order:3,strokeWidth:"2px",stroke:"red",referenceSystem:m}),N=new Ke("geomodellabels",{order:3,data:W}),j=new _e("seismic",{order:1}),pe={completionSymbol1:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTAwIiBoZWlnaHQ9IjEwMCIgdmlld0JveD0iMCAwIDEwMCAxMDAiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjxwYXRoIGQ9Ik0xMCAwSDkwVjEwMEgxMFYwWiIgZmlsbD0iI0Q5RDlEOSIvPgo8cGF0aCBkPSJNMCAyNUgxMFY3NUgwVjI1WiIgZmlsbD0iI0I1QjJCMiIvPgo8cGF0aCBkPSJNNDUgMjVINTVWNzVINDVWMjVaIiBmaWxsPSIjQjVCMkIyIi8+CjxwYXRoIGQ9Ik05MCAyNUgxMDBWNzVIOTBWMjVaIiBmaWxsPSIjQjVCMkIyIi8+Cjwvc3ZnPgo=",completionSymbol2:"tubing1.svg",completionSymbol3:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTAwIiBoZWlnaHQ9IjEwMCIgdmlld0JveD0iMCAwIDEwMCAxMDAiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjxwYXRoIGQ9Ik0xMCAwSDkwVjEwMEgxMFYwWiIgZmlsbD0iI0Q5RDlEOSIvPgo8cGF0aCBkPSJNMCAyNUgxMFY3NUgwVjI1WiIgZmlsbD0iI0I1QjJCMiIvPgo8cGF0aCBkPSJNNDUgMjVINTVWNzVINDVWMjVaIiBmaWxsPSIjQjVCMkIyIi8+CjxwYXRoIGQ9Ik0yNSA2NUgzMFY4MEgyNVY2NVoiIGZpbGw9IiMzMTMxMzEiLz4KPHBhdGggZD0iTTI1IDQySDMwVjU3SDI1VjQyWiIgZmlsbD0iIzMxMzEzMSIvPgo8cGF0aCBkPSJNMjUgMjFIMzBWMzZIMjVWMjFaIiBmaWxsPSIjMzEzMTMxIi8+CjxwYXRoIGQ9Ik03MCA2NEg3NVY3OUg3MFY2NFoiIGZpbGw9IiMzMTMxMzEiLz4KPHBhdGggZD0iTTcwIDQxSDc1VjU2SDcwVjQxWiIgZmlsbD0iIzMxMzEzMSIvPgo8cGF0aCBkPSJNNzAgMjBINzVWMzVINzBWMjBaIiBmaWxsPSIjMzEzMTMxIi8+CjxwYXRoIGQ9Ik05MCAyNUgxMDBWNzVIOTBWMjVaIiBmaWxsPSIjQjVCMkIyIi8+Cjwvc3ZnPgo="},me=[{kind:"completionSymbol",id:"completion-svg-1",start:5250,end:5252,diameter:8.5,symbolKey:"completionSymbol1"},{kind:"completionSymbol",id:"completion-svg-2",start:5252,end:5274,diameter:8.5,symbolKey:"completionSymbol2"},{kind:"completionSymbol",id:"completion-svg-3",start:5274,end:5276,diameter:8.5,symbolKey:"completionSymbol3"}],he={mechanicalPlug:"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5vIj8+Cjxzdmcgd2lkdGg9IjEwMCIgaGVpZ2h0PSIxMDAiIHZpZXdCb3g9IjAgMCAxMDAgMTAwIiBmaWxsPSJub25lIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciPgo8cGF0aCBkPSJNMSAxSDk5Vjk5SDFWMVoiIGZpbGw9InVybCgjcGFpbnQwX2xpbmVhcl81MF81KSIvPgo8cGF0aCBkPSJNMSAxSDk5Vjk5SDFWMVoiIGZpbGw9InVybCgjcGFpbnQxX2xpbmVhcl81MF81KSIgZmlsbC1vcGFjaXR5PSIwLjIiLz4KPHBhdGggZD0iTTEgMUg5OVY5OUgxVjFaIiBzdHJva2U9ImJsYWNrIiBzdHJva2Utd2lkdGg9IjIiLz4KPGxpbmUgeDE9IjEuNzEwNzIiIHkxPSIxLjI5NjUzIiB4Mj0iOTguNzEwNyIgeTI9Ijk5LjI5NjUiIHN0cm9rZT0iYmxhY2siIHN0cm9rZS13aWR0aD0iMiIvPgo8bGluZSB4MT0iOTguNzA3MSIgeTE9IjAuNzA3MTA3IiB4Mj0iMC43MDcxIiB5Mj0iOTguNzA3MSIgc3Ryb2tlPSJibGFjayIgc3Ryb2tlLXdpZHRoPSIyIi8+CjxkZWZzPgo8bGluZWFyR3JhZGllbnQgaWQ9InBhaW50MF9saW5lYXJfNTBfNSIgeDE9IjAiIHkxPSI1MCIgeDI9IjUwIiB5Mj0iNTAiIGdyYWRpZW50VW5pdHM9InVzZXJTcGFjZU9uVXNlIj4KPHN0b3Agc3RvcC1jb2xvcj0iI0NDMjYyNiIvPgo8c3RvcCBvZmZzZXQ9IjEiIHN0b3AtY29sb3I9IiNGRjQ3MUEiLz4KPC9saW5lYXJHcmFkaWVudD4KPGxpbmVhckdyYWRpZW50IGlkPSJwYWludDFfbGluZWFyXzUwXzUiIHgxPSI1MCIgeTE9IjUwIiB4Mj0iMTAwIiB5Mj0iNTAiIGdyYWRpZW50VW5pdHM9InVzZXJTcGFjZU9uVXNlIj4KPHN0b3Agc3RvcC1jb2xvcj0iI0ZGNDcxQSIvPgo8c3RvcCBvZmZzZXQ9IjAuOTk5OSIgc3RvcC1jb2xvcj0iI0NDMjYyNiIvPgo8c3RvcCBvZmZzZXQ9IjEiIHN0b3AtY29sb3I9IiNGRjQ3MUEiLz4KPC9saW5lYXJHcmFkaWVudD4KPC9kZWZzPgo8L3N2Zz4K"},ye=[{kind:"pAndASymbol",id:"mechanical-plug-1",start:5100,end:5110,diameter:8.5,symbolKey:"mechanicalPlug"},{kind:"cementPlug",id:"cement-plug-2",start:5e3,end:5110,referenceIds:["casing-07"]}],Ie=[{kind:"perforation",subKind:"Perforation",id:"PerforationDemo1",start:4e3,end:4500,isOpen:!0},{kind:"perforation",subKind:"Cased hole frac pack",id:"PerforationDemo2",start:3500,end:4500,isOpen:!0}],ge={holeSizes:ee,cements:te,casings:_,completion:[...q,...me],pAndA:[...ye,...oe],perforations:Ie,symbols:{...pe,...he}},y={holeLayerId:"hole-id",casingLayerId:"casing-id",completionLayerId:"completion-id",cementLayerId:"cement-id",pAndALayerId:"pAndA-id",perforationLayerId:"perforation-id"},be={order:5,referenceSystem:m,internalLayerOptions:y,data:ge},G=new He(de,"schematic-webgl-layer",be),ue=[{text:"RKB",lineType:"dashed",color:"black",depth:0},{text:"MSL",lineType:"wavy",color:"blue",depth:30},{text:"Seabed",lineType:"solid",color:"slategray",depth:91.1,lineWidth:2}],V=new yt("sea-and-rkb-layer",{data:ue}),T=new Xe("callout",{order:100,data:re,referenceSystem:m}),xe=[f,z,B,N,j,G,V,T],Se={scaleOptions:a,axisOptions:e,container:p,referenceSystem:m},i=new Ve({layers:xe,...Se});It(i);const Ce=et(ae);tt(k,w,st).then(c=>{j.setData({image:c,options:Ce})}),i.adjustToSize(t,s),i.setViewport(1e3,1500,5e3),i.zoomPanHandler.zFactor=1;const Me=Oe(),we=h(i,f,"Grid"),je=h(i,B,"Wellbore"),Le=h(i,z,"Geo model"),ve=h(i,G,"Schematic"),ke=h(i,V,"SeaAndRKB"),Ae=h(i,N,"Geo model labels"),De=h(i,j,"Seismic"),Pe=h(i,T,"Picks"),We=[["Holes",y.holeLayerId],["Casings",y.casingLayerId],["Cement",y.cementLayerId],["Completion",y.completionLayerId],["Plug & Abandonment",y.pAndALayerId],["Perforations",y.perforationLayerId]].map(([c,v])=>gt(i,v,c));let L=!0;const fe=b("Axis labels",c=>{L?(i.hideAxisLabels(),c.style.backgroundColor="red",c.style.color="white",L=!1):(i.showAxisLabels(),L=!0,c.style.backgroundColor="lightblue",c.style.color="")},"background: lightblue;"),ze=b("800x600",()=>{p.setAttribute("style","height: 600px; width: 800px;background-color: #eee;"),o.style.width="800px",l.style.width="800px",n.style.width="800px",i.adjustToSize(800,600)}),Be=b("600x400",()=>{p.setAttribute("style","height: 400px; width: 600px;background-color: #eee;"),o.style.width="600px",l.style.width="600px",n.style.width="600px",i.adjustToSize(600,400)}),Ne=b("Default",()=>{p.setAttribute("style",`height: ${s}px; width: ${t}px;background-color: #eee;`),o.style.width=`${t}px`,l.style.width=`${t}px`,n.style.width=`${t}px`,i.adjustToSize(t,s)}),Ge=b("Clear everything",()=>{i.clearAllData()});n.appendChild(we),n.appendChild(je),n.appendChild(Le),n.appendChild(Ae),n.appendChild(De),n.appendChild(ve),n.appendChild(ke),n.appendChild(Pe),n.appendChild(fe),l.appendChild(ze),l.appendChild(Be),l.appendChild(Ne),d.appendChild(Ge),We.forEach(c=>r.appendChild(c)),o.appendChild(g("A complete example of multiple layers comprised of SVG, Canvas, HTML and pixi.js (WebGL). We use a controller to update and display each layer in a container (just a plain div element) on top of each other.")),o.appendChild(p),o.appendChild(g("Toggle")),o.appendChild(n),o.appendChild(g("Schematic toggle")),o.appendChild(r),o.appendChild(g("Adjust size")),o.appendChild(l),o.appendChild(g("Miscellaneous")),o.appendChild(d),o.appendChild(Me)}),o};function It(a){const e=a.overlay.create("md",{onMouseMove:t=>{const{target:s,caller:o,x:n}=t,l=o.currentStateAsEvent.xScale.invert(n),{referenceSystem:r}=o,d=r.unproject(l);s.textContent=Number.isFinite(d)?`MD: ${d.toFixed(1)}`:"-",d<0||r.length<d?s.style.visibility="hidden":s.style.visibility="visible"},onMouseExit:t=>{t.target.style.visibility="hidden"}});e.style.visibility="hidden",e.style.display="inline-block",e.style.padding="2px",e.style.borderRadius="4px",e.style.textAlign="right",e.style.position="absolute",e.style.backgroundColor="rgba(0,0,0,0.5)",e.style.color="white",e.style.right="5px",e.style.bottom="5px",e.style.zIndex="100"}const h=(a,e,t)=>{const s=document.createElement("button");s.innerHTML=`${t}`,s.setAttribute("style","width: 170px;height:32px;margin-top:12px;background: lightblue;");let o=!1;return s.onclick=()=>{o?(a.showLayer(e.id),s.style.backgroundColor="lightblue",s.style.color=""):(a.hideLayer(e.id),s.style.backgroundColor="red",s.style.color="white"),o=!o},s},gt=(a,e,t)=>{const s=document.createElement("button");s.innerHTML=`${t}`,s.setAttribute("style","width: 170px;height:32px;margin-top:12px;background: lightblue;");let o=!1;return s.onclick=()=>{o?(a.showLayer(e),s.style.backgroundColor="lightblue",s.style.color=""):(a.hideLayer(e),s.style.backgroundColor="red",s.style.color="white"),o=!o},s};function b(a,e,t=""){const s=document.createElement("button");return s.innerHTML=a,s.setAttribute("style",`${t}width: 170px;height:32px;margin-top:12px;`),s.onclick=()=>e(s),s}const kt={title:"ESV Intersection/Complete example",component:u};var U,Y,Q;u.parameters={...u.parameters,docs:{...(U=u.parameters)==null?void 0:U.docs,source:{originalSource:`() => {
  const xBounds: [number, number] = [0, 1000];
  const yBounds: [number, number] = [0, 1000];
  const scaleOptions = {
    xBounds,
    yBounds
  };
  return renderIntersection(scaleOptions);
}`,...(Q=(Y=u.parameters)==null?void 0:Y.docs)==null?void 0:Q.source}}};var X,J,K;S.parameters={...S.parameters,docs:{...(X=S.parameters)==null?void 0:X.docs,source:{originalSource:`() => {
  const xBounds: [number, number] = [1000, 0];
  const yBounds: [number, number] = [0, 1000];
  const scaleOptions = {
    xBounds,
    yBounds
  };
  return renderIntersection(scaleOptions);
}`,...(K=(J=S.parameters)==null?void 0:J.docs)==null?void 0:K.source}}};const At=["intersection","intersectionFlipX"];export{At as __namedExportsOrder,kt as default,u as intersection,S as intersectionFlipX};
