var Z=Object.defineProperty;var Q=(t,i,n)=>i in t?Z(t,i,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[i]=n;var m=(t,i,n)=>(Q(t,typeof i!="symbol"?i+"":i,n),n);import{L as J,D as K,j as $,s as tt}from"./elements.87f68392.js";class it extends J{constructor(){super(...arguments);m(this,"elm")}onMount(n){super.onMount(n);const{elm:e}=n,_=n.width||parseInt(e.getAttribute("width"),10)||K,o=n.height||parseInt(e.getAttribute("height"),10)||$;this.elm||(this.elm=tt(e).append("svg"),this.elm.attr("id",`${this.id}`),this.elm.attr("class","svg-layer")),this.elm.attr("height",o).attr("width",_);const s=this.interactive?"auto":"none";this.elm.style("position","absolute").style("pointer-events",s).style("opacity",this.opacity).style("z-index",this.order)}onUnmount(){super.onUnmount(),this.elm.remove(),this.elm=null}onResize(n){!this.elm||(super.onResize(n),this.elm.attr("height",n.height).attr("width",n.width))}setVisibility(n){super.setVisibility(n),this.elm&&this.elm.attr("visibility",n?"visible":"hidden")}onOpacityChanged(n){this.elm&&this.elm.style("opacity",n)}onOrderChanged(n){this.elm&&this.elm.style("z-index",n)}onInteractivityChanged(n){if(this.elm){const e=n?"auto":"none";this.elm.style("pointer-events",e)}}}var k=Math.PI,w=2*k,f=1e-6,nt=w-f;function E(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function V(){return new E}E.prototype=V.prototype={constructor:E,moveTo:function(t,i){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+i)},closePath:function(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(t,i){this._+="L"+(this._x1=+t)+","+(this._y1=+i)},quadraticCurveTo:function(t,i,n,e){this._+="Q"+ +t+","+ +i+","+(this._x1=+n)+","+(this._y1=+e)},bezierCurveTo:function(t,i,n,e,_,o){this._+="C"+ +t+","+ +i+","+ +n+","+ +e+","+(this._x1=+_)+","+(this._y1=+o)},arcTo:function(t,i,n,e,_){t=+t,i=+i,n=+n,e=+e,_=+_;var o=this._x1,s=this._y1,h=n-t,r=e-i,c=o-t,a=s-i,l=c*c+a*a;if(_<0)throw new Error("negative radius: "+_);if(this._x1===null)this._+="M"+(this._x1=t)+","+(this._y1=i);else if(l>f)if(!(Math.abs(a*h-r*c)>f)||!_)this._+="L"+(this._x1=t)+","+(this._y1=i);else{var u=n-o,b=e-s,M=h*h+r*r,G=u*u+b*b,S=Math.sqrt(M),C=Math.sqrt(l),A=_*Math.tan((k-Math.acos((M+l-G)/(2*S*C)))/2),v=A/C,L=A/S;Math.abs(v-1)>f&&(this._+="L"+(t+v*c)+","+(i+v*a)),this._+="A"+_+","+_+",0,0,"+ +(a*u>c*b)+","+(this._x1=t+L*h)+","+(this._y1=i+L*r)}},arc:function(t,i,n,e,_,o){t=+t,i=+i,n=+n,o=!!o;var s=n*Math.cos(e),h=n*Math.sin(e),r=t+s,c=i+h,a=1^o,l=o?e-_:_-e;if(n<0)throw new Error("negative radius: "+n);this._x1===null?this._+="M"+r+","+c:(Math.abs(this._x1-r)>f||Math.abs(this._y1-c)>f)&&(this._+="L"+r+","+c),n&&(l<0&&(l=l%w+w),l>nt?this._+="A"+n+","+n+",0,1,"+a+","+(t-s)+","+(i-h)+"A"+n+","+n+",0,1,"+a+","+(this._x1=r)+","+(this._y1=c):l>f&&(this._+="A"+n+","+n+",0,"+ +(l>=k)+","+a+","+(this._x1=t+n*Math.cos(_))+","+(this._y1=i+n*Math.sin(_))))},rect:function(t,i,n,e){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+i)+"h"+ +n+"v"+ +e+"h"+-n+"Z"},toString:function(){return this._}};function p(t){return function(){return t}}const P=1e-12;function et(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function W(t){this._context=t}W.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,i){switch(t=+t,i=+i,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,i):this._context.moveTo(t,i);break;case 1:this._point=2;default:this._context.lineTo(t,i);break}}};function j(t){return new W(t)}function st(t){return t[0]}function _t(t){return t[1]}function ot(t,i){var n=p(!0),e=null,_=j,o=null;t=typeof t=="function"?t:t===void 0?st:p(t),i=typeof i=="function"?i:i===void 0?_t:p(i);function s(h){var r,c=(h=et(h)).length,a,l=!1,u;for(e==null&&(o=_(u=V())),r=0;r<=c;++r)!(r<c&&n(a=h[r],r,h))===l&&((l=!l)?o.lineStart():o.lineEnd()),l&&o.point(+t(a,r,h),+i(a,r,h));if(u)return o=null,u+""||null}return s.x=function(h){return arguments.length?(t=typeof h=="function"?h:p(+h),s):t},s.y=function(h){return arguments.length?(i=typeof h=="function"?h:p(+h),s):i},s.defined=function(h){return arguments.length?(n=typeof h=="function"?h:p(!!h),s):n},s.curve=function(h){return arguments.length?(_=h,e!=null&&(o=_(e)),s):_},s.context=function(h){return arguments.length?(h==null?e=o=null:o=_(e=h),s):e},s}function R(){}function N(t,i,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+i)/6,(t._y0+4*t._y1+n)/6)}function y(t){this._context=t}y.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:N(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,i){switch(t=+t,i=+i,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,i):this._context.moveTo(t,i);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:N(this,t,i);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=i}};function ht(t){return new y(t)}function O(t){this._context=t}O.prototype={areaStart:R,areaEnd:R,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,i){switch(t=+t,i=+i,this._point){case 0:this._point=1,this._x2=t,this._y2=i;break;case 1:this._point=2,this._x3=t,this._y3=i;break;case 2:this._point=3,this._x4=t,this._y4=i,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+i)/6);break;default:N(this,t,i);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=i}};function rt(t){return new O(t)}function Y(t,i){this._basis=new y(t),this._beta=i}Y.prototype={lineStart:function(){this._x=[],this._y=[],this._basis.lineStart()},lineEnd:function(){var t=this._x,i=this._y,n=t.length-1;if(n>0)for(var e=t[0],_=i[0],o=t[n]-e,s=i[n]-_,h=-1,r;++h<=n;)r=h/n,this._basis.point(this._beta*t[h]+(1-this._beta)*(e+r*o),this._beta*i[h]+(1-this._beta)*(_+r*s));this._x=this._y=null,this._basis.lineEnd()},point:function(t,i){this._x.push(+t),this._y.push(+i)}};const ct=function t(i){function n(e){return i===1?new y(e):new Y(e,i)}return n.beta=function(e){return t(+e)},n}(.85);function B(t,i,n){t._context.bezierCurveTo(t._x1+t._k*(t._x2-t._x0),t._y1+t._k*(t._y2-t._y0),t._x2+t._k*(t._x1-i),t._y2+t._k*(t._y1-n),t._x2,t._y2)}function g(t,i){this._context=t,this._k=(1-i)/6}g.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:B(this,this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,i){switch(t=+t,i=+i,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,i):this._context.moveTo(t,i);break;case 1:this._point=2,this._x1=t,this._y1=i;break;case 2:this._point=3;default:B(this,t,i);break}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=i}};const at=function t(i){function n(e){return new g(e,i)}return n.tension=function(e){return t(+e)},n}(0);function lt(t,i,n){var e=t._x1,_=t._y1,o=t._x2,s=t._y2;if(t._l01_a>P){var h=2*t._l01_2a+3*t._l01_a*t._l12_a+t._l12_2a,r=3*t._l01_a*(t._l01_a+t._l12_a);e=(e*h-t._x0*t._l12_2a+t._x2*t._l01_2a)/r,_=(_*h-t._y0*t._l12_2a+t._y2*t._l01_2a)/r}if(t._l23_a>P){var c=2*t._l23_2a+3*t._l23_a*t._l12_a+t._l12_2a,a=3*t._l23_a*(t._l23_a+t._l12_a);o=(o*c+t._x1*t._l23_2a-i*t._l12_2a)/a,s=(s*c+t._y1*t._l23_2a-n*t._l12_2a)/a}t._context.bezierCurveTo(e,_,o,s,t._x2,t._y2)}function q(t,i){this._context=t,this._alpha=i}q.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,i){if(t=+t,i=+i,this._point){var n=this._x2-t,e=this._y2-i;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+e*e,this._alpha))}switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,i):this._context.moveTo(t,i);break;case 1:this._point=2;break;case 2:this._point=3;default:lt(this,t,i);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=i}};const ut=function t(i){function n(e){return i?new q(e,i):new g(e,0)}return n.alpha=function(e){return t(+e)},n}(.5);function z(t){return t<0?-1:1}function U(t,i,n){var e=t._x1-t._x0,_=i-t._x1,o=(t._y1-t._y0)/(e||_<0&&-0),s=(n-t._y1)/(_||e<0&&-0),h=(o*_+s*e)/(e+_);return(z(o)+z(s))*Math.min(Math.abs(o),Math.abs(s),.5*Math.abs(h))||0}function I(t,i){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-i)/2:i}function T(t,i,n){var e=t._x0,_=t._y0,o=t._x1,s=t._y1,h=(o-e)/3;t._context.bezierCurveTo(e+h,_+h*i,o-h,s-h*n,o,s)}function x(t){this._context=t}x.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:T(this,this._t0,I(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,i){var n=NaN;if(t=+t,i=+i,!(t===this._x1&&i===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,i):this._context.moveTo(t,i);break;case 1:this._point=2;break;case 2:this._point=3,T(this,I(this,n=U(this,t,i)),n);break;default:T(this,this._t0,n=U(this,t,i));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=i,this._t0=n}}};function H(t){this._context=new F(t)}(H.prototype=Object.create(x.prototype)).point=function(t,i){x.prototype.point.call(this,i,t)};function F(t){this._context=t}F.prototype={moveTo:function(t,i){this._context.moveTo(i,t)},closePath:function(){this._context.closePath()},lineTo:function(t,i){this._context.lineTo(i,t)},bezierCurveTo:function(t,i,n,e,_,o){this._context.bezierCurveTo(i,t,e,n,o,_)}};function ft(t){return new x(t)}function pt(t){return new H(t)}function X(t){this._context=t}X.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,i=this._y,n=t.length;if(n)if(this._line?this._context.lineTo(t[0],i[0]):this._context.moveTo(t[0],i[0]),n===2)this._context.lineTo(t[1],i[1]);else for(var e=D(t),_=D(i),o=0,s=1;s<n;++o,++s)this._context.bezierCurveTo(e[0][o],_[0][o],e[1][o],_[1][o],t[s],i[s]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,i){this._x.push(+t),this._y.push(+i)}};function D(t){var i,n=t.length-1,e,_=new Array(n),o=new Array(n),s=new Array(n);for(_[0]=0,o[0]=2,s[0]=t[0]+2*t[1],i=1;i<n-1;++i)_[i]=1,o[i]=4,s[i]=4*t[i]+2*t[i+1];for(_[n-1]=2,o[n-1]=7,s[n-1]=8*t[n-1]+t[n],i=1;i<n;++i)e=_[i]/o[i-1],o[i]-=e,s[i]-=e*s[i-1];for(_[n-1]=s[n-1]/o[n-1],i=n-2;i>=0;--i)_[i]=(s[i]-_[i+1])/o[i];for(o[n-1]=(t[n]+_[n-1])/2,i=0;i<n-1;++i)o[i]=2*t[i+1]-_[i+1];return[_,o]}function xt(t){return new X(t)}function d(t,i){this._context=t,this._t=i}d.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,i){switch(t=+t,i=+i,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,i):this._context.moveTo(t,i);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,i),this._context.lineTo(t,i);else{var n=this._x*(1-this._t)+t*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,i)}break}}this._x=t,this._y=i}};function yt(t){return new d(t,.5)}function dt(t){return new d(t,0)}function bt(t){return new d(t,1)}const vt=.7,mt=.9,Tt=1;class Et extends it{constructor(n,e){super(n,e);m(this,"rescaleEvent");this.options={...this.options,...e},this.render=this.render.bind(this)}onUpdate(n){super.onUpdate(n),this.render()}onRescale(n){super.onRescale(n),this.elm&&(this.rescaleEvent=n,this.render())}render(){const{strokeWidth:n,stroke:e}=this.options;if(!this.elm)return;this.elm.select("g").remove();const _=this.data||this.referenceSystem&&this.referenceSystem.projectedPath;!_||!this.rescaleEvent||this.elm.append("g").attr("class","well-path").append("path").attr("d",this.renderWellborePath(_)).attr("stroke-width",n||"2px").attr("stroke",e||"red").attr("fill","none")}renderWellborePath(n){const{xScale:e,yScale:_}=this.rescaleEvent,o=n.map(c=>[e(c[0]),_(c[1])]);let s;const{curveType:h,tension:r}=this.options;switch(h){default:case"curveCatmullRom":s=ut.alpha(r||vt);break;case"curveLinear":s=j;break;case"curveBasis":s=ht;break;case"curveBasisClosed":s=rt;break;case"curveBundle":s=ct.beta(r||Tt);break;case"curveCardinal":s=at.tension(r||mt);break;case"curveMonotoneX":s=ft;break;case"curveMonotoneY":s=pt;break;case"curveNatural":s=xt;break;case"curveStep":s=yt;break;case"curveStepAfter":s=bt;break;case"curveStepBefore":s=dt;break}return ot().curve(s)(o)}}export{Et as W};
//# sourceMappingURL=WellborePathLayer.e026dac6.js.map
